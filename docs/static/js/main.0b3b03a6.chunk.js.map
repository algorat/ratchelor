{"version":3,"sources":["components/IntroScreen.js","components/RatSelect.js","components/ReactionAnimation.js","components/TalkingToRats.js","components/RoseCeremony.js","components/AnimeEnding.js","components/SpecialEnding.js","sounds/Cheerful.mp3","sounds/Funky.mp3","sounds/Intense.mp3","sounds/Intro_Screen.mp3","sounds/Paris.mp3","sounds/Pop.mp3","sounds/Romantic_Happy.mp3","sounds/Romantic_Sad.mp3","sounds/Rose_Ceremony.mp3","sounds/Talking_To_Rat_1.mp3","sounds/Talking_To_Rat_2.mp3","sounds/Talking_To_Rat_3.mp3","sounds/Talking_To_Rat_4.mp3","components/MusicManager.js","sounds/rose3.wav","sounds/bad_action_sfx.wav","sounds/curtains.mp3","sounds/louder_tap.mp3","sounds/crickets.mp3","sounds/harp.mp3","sounds/trombone.mp3","sounds/chaching.mp3","sounds/ding.mp3","sounds/metal.mp3","sounds/tada.mp3","sounds/chimes.mp3","sounds/wobble.mp3","components/SoundEffectController.js","img/icons/volume_0.png","components/GameOptions.js","img/icons/volume_mute.png","img/icons/volume_1.png","img/icons/volume_2.png","img/icons/volume_3.png","components/CharacterSelect.js","components/Proposal.js","App.js","img/Backgrounds/beach.png","img/Backgrounds/couch.gif","img/Backgrounds/curtains.png","img/Backgrounds/garden.png","img/Backgrounds/intro.gif","img/Backgrounds/wallpaper.png","index.js"],"names":["IntroScreen","props","state","opacity","loadingText","onClick","bind","this","fadeInterval","window","setInterval","clearInterval","setState","button","ref","b","addEventListener","playSound","loader","percentLoadedText","Math","floor","percentLoaded","id","className","isPreloading","style","React","Component","RatSelect","onClickSelectRats","setActiveRatsAndAdvanceState","selectedRats","selectRatsButton","document","getElementById","classList","remove","numRatsInGame","length","add","ratName","element","indexOf","playTap","index","newSelectedRats","splice","multiContestantsLeft","oneContestantLeft","push","noContestantsLeft","playBadActionSound","ratsList","i","filename","rats","filenameHearts","selectRat","name","src","alt","tagline","ReactionAnimation","left","top","Array","fill","emote","map","val","idx","TalkingToRats","ratNames","activeRatNames","sort","a","random","activeRats","getRatByName","sendFirstRatTimeout","numRatImgsLoaded","ratImgs","responses","responsesJson","charSpeed","ratMoveSpeed","rxnSound","ratIndex","charsRevealed","incr","reacting","lastActiveRat","ratDialogue","ratImgsLoaded","setTimeout","sendRatIn","startDelay","imgHTML","onLoad","ratImgLoaded","preloadRatImgs","ratMoveInInterval","ratMoveOutInterval","textInterval","reactionTimeout","clearTimeout","rxn","Object","keys","soundsToActionsJson","forEach","sound","includes","responseReaction","currReaction","playReactionSound","sendRatOut","getRandomResponses","startTextMoving","setNextRat","dialogue","round","substring","newRatIndex","goToRoseCeremony","changeCurrentRatIdx","startReaction","currentRatFilename","currentIndex","currentRatResponseOptions","responseText","response","reaction","responseDiv","submitResponse","playSelectAnswer","playCricketsSound","playHarpSound","playDingSound","playMetalSound","playChachingSound","playWobbleSound","playChimesSound","playTromboneSound","playTadaSound","playerRatUrl","reaction_pos","RoseCeremony","numRoses","backRowRats","frontRowRats","giveRosesButton","instructions","middleRowClass","allRatsSelectedClass","lastRoseClass","backRowNames","frontRowNames","backRowSize","frontRowSize","bearIndex","miggIndex","largoIndex","currName","reverse","ratsLeft","updateInstructions","finalRat","endRoseCeremony","backRatsList","roseFilename","size","frontRatsList","bouquetNum","AnimeEnding","winningRat","epilogue","SpecialEnding","text","offLimitRats","beginningRatPool","photos","f","getRatEndingFilename","undefined","ratsJson","fullName","retVal","retText","corats","noFileFound","photosRats","rat","numEndings","j","noViableEnding","numRats","Rat1","Rat2","Rat3","selecctedID","selected","deselect","seed","x","sin","width","paddingTop","paddingRight","transform","open","restartGame","TalkingMusic","Talking1","Talking2","Talking3","Talking4","Endings","CHEERFUL","Cheerful","FUNKY","Funky","INTENSE","Intense","PARIS","Paris","POP","Pop","ROMANTICHAPPY","RomanticHappy","ROMANTICSAD","RomanticSad","MusicManager","selectURL","url","phase","setCallPlaySound","volume","currentRatIdx","musicStarted","needToRender","newurl","newvolume","setVolume","vol","rap","playPromise","play","then","_","catch","e","console","log","RAT_SELECT","PLAYER_SELECT","TALKING_TO_RATS","ROSE_CEREMONY","ANIME_ENDING","ending","PROPOSAL","loop","SoundEffectController","playRoseSound","playNewRoundSound","setPlayRoseSound","setPlayBadActionSound","setPlayTap","setPlayCricketsSound","setPlayHarpSound","setPlayTromboneSound","setPlaySelectAnswer","setPlayNewRoundSound","setPlayChachingSound","setPlayDingSound","setPlayMetalSound","setPlayTadaSound","setPlayChimesSound","setPlayWobbleSound","wobble","chimes","tada","metal","ding","chaching","crickets","trombone","harp","assignRose","badAction","newRound","selectAnswer","tap","GameOptions","soundurl","prog","soundLogo0","changeVolume","min","max","type","value","onChange","evt","parseInt","target","backgroundImage","CharacterImg","CharacterSelect","ratSelected","buttonArea","display","playerIdx","changePlayerIdx","Proposal","opacityInterval","advanceState","backgroundSrc","soundsToPreload","s2","s3","s5","s6","s7","s11","s1","s21","s22","s23","s24","s25","soundsToAsyncLoad","s17","s18","s19","s20","s16","s8","s9","s10","s12","s13","s14","s15","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","RatchelorGame","numRounds","setProposedInDatabase","rosesPerRound","allPublicImagesForPreload","gameStage","roundNum","interludeText","isShowingSafariMsg","isOnMobile","curtainsClass","donePreloading","publicImgsLoaded","srcImgsLoaded","soundsLoaded","preloadTimeout","preloadInterval","asyncLoadSounds","intervalTime","fullFilename","img","Image","slice","onload","fileIdx","audio","Audio","load","delay","newGameStage","endInterlude","callPlaySound","database","child","set","ServerValue","increment","preload","interludeElement","isSafari","test","HTMLElement","safari","pushNotification","toString","navigator","userAgent","randoRat","screen","beginInterludeAndAdvanceState","newRoundNum","incrementTotalRatCount","n","safariMsg","randoRatFilename","randoRatName","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0b3b03a6.chunk.js","sourcesContent":["import React from \"react\";\n\nclass IntroScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      opacity: 1,\n      loadingText: \"Loading\",\n    };\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick() {\n    this.fadeInterval = window.setInterval(() => {\n      let opacity = this.state.opacity - 0.01;\n      if (opacity <= 0) {\n        this.props.onClick();\n        window.clearInterval(this.fadeInterval);\n      } else {\n        this.setState({ opacity });\n      }\n    }, 5);\n  }\n\n  render() {\n    let button = <button\n      ref={(b) => {\n        if (b) {\n          b.addEventListener(\"click\", () => {\n            this.props.playSound();\n          });\n        }\n      }}\n      onClick={this.onClick}\n    >\n      Embark\n    </button>\n\n    let loader = <div id=\"loadingText\">{this.state.loadingText}</div>\n    let percentLoadedText = Math.floor(this.props.percentLoaded * 100);\n    loader = <div id=\"loadingText\">Loading {percentLoadedText}%</div>\n\n    return (\n      <div\n        id=\"introScreen\"\n        className={`screen loading-${this.props.isPreloading}`}\n        style={{ opacity: this.state.opacity }}\n      >\n        {this.props.isPreloading ? loader : button}\n        <div id=\"hideme\" />\n      </div>\n    );\n  }\n}\n\nexport default IntroScreen;\n","import React from \"react\";\n\nclass RatSelect extends React.Component {\n  constructor() {\n    super();\n\n    // Once you've select the rats, advance to the next stage\n    this.onClickSelectRats = () => {\n      this.props.setActiveRatsAndAdvanceState(this.state.selectedRats);\n    };\n\n    this.state = {\n      selectedRats: [],\n      selectRatsButton: <div id=\"chooseText\">Select your 7 contestants</div>,\n    };\n  }\n\n  noContestantsLeft() {\n    let selectRatsButton = (\n      <div id=\"chooseText\">\n        <button onClick={() => {this.onClickSelectRats();}}>Continue</button>\n      </div>\n    );\n    this.setState({ selectRatsButton });\n    document.getElementById(\"ratListContainer\").classList.remove(\"stillRats\");\n  }\n\n  oneContestantLeft() {\n    let selectRatsButton = (\n      <div id=\"chooseText\">{`Select ${\n        this.props.numRatsInGame - this.state.selectedRats.length\n      } more contestant`}</div>\n    );\n    this.setState({ selectRatsButton });\n    document.getElementById(\"ratListContainer\").classList.add(\"stillRats\");\n  }\n\n  multiContestantsLeft() {\n    let selectRatsButton = (\n      <div id=\"chooseText\">{`Select ${\n        this.props.numRatsInGame - this.state.selectedRats.length\n      } more contestants`}</div>\n    );\n    this.setState({ selectRatsButton });\n  }\n\n  // When a rat is clicked\n  selectRat(ratName, id) {\n    // Get the element for the current rat button\n    const element = document.getElementById(id);\n\n    // If it's already chosen, deselect it\n    if (this.state.selectedRats.indexOf(ratName) !== -1) {\n      this.props.playTap();\n      const index = this.state.selectedRats.indexOf(ratName);\n      const newSelectedRats = this.state.selectedRats;\n      newSelectedRats.splice(index, 1);\n      this.setState({ selectedRats: newSelectedRats });\n      element.classList.remove(\"selectedRat\");\n      if (this.state.selectedRats.length !== this.props.numRatsInGame - 1) {\n        this.multiContestantsLeft();\n      } else {\n        this.oneContestantLeft();\n      }\n      return;\n    }\n\n    // If you've already selected the max rats, you can't select another\n    if (this.state.selectedRats.length === this.props.numRatsInGame) {\n      this.props.playBadActionSound();\n      return;\n    }\n\n    // Otherwise, select this rat\n    let newSelectedRats = this.state.selectedRats;\n    newSelectedRats.push(ratName);\n    element.classList.add(\"selectedRat\");\n\n    this.props.playTap();\n\n    // If that was the final rat, display the advance button\n    if (this.state.selectedRats.length === this.props.numRatsInGame) {\n      this.noContestantsLeft();\n    } else if (\n      this.state.selectedRats.length !==\n      this.props.numRatsInGame - 1\n    ) {\n      this.multiContestantsLeft();\n    } else {\n      this.oneContestantLeft();\n    }\n\n    // Force a UI update for the rat list\n\n    this.setState({});\n  }\n\n  render() {\n    let ratsList = [];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.props.rats.length; i++) {\n      let filename = `/ratchelor/img/Frames/${this.props.rats[i].filename}.PNG`;\n      let filenameHearts = `/ratchelor/img/Frames/hearts${(i % 9) + 1}.PNG`;\n      ratsList.push(\n        <div key={\"rats\" + i} id=\"ratContainer\">\n          <div\n            id={`rat${i}`}\n            className=\"ratListItem\"\n            onClick={() => {\n              this.selectRat(this.props.rats[i].name, `rat${i}`);\n            }}\n          >\n            <div className=\"ratPic\">\n              <img key={`ratframe${i}`} className=\"ratFrame\" src={filename} alt=\"\" />\n              <img key={`rathearts${i}`} className=\"ratHearts\" src={filenameHearts} alt=\"\" />\n            </div>\n            <div className=\"ratNameContainer\">\n              <div className=\"ratName\">{`${this.props.rats[i].name}`}</div>\n              <div className=\"ratTagline\">{`\"${this.props.rats[i].tagline}\"`}</div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div id=\"ratSelectScreen\" className=\"screen\">\n        {this.state.selectRatsButton}\n        <div id=\"ratListContainer\" className=\"stillRats\">\n          {ratsList}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RatSelect;\n","import React from \"react\";\n\nclass ReactionAnimation extends React.Component {\n\n  render() {\n    return (\n      <div className=\"reaction-animation\" style={{left: `${this.props.left}%`, top: this.props.top + \"%\"}}>\n        {Array(5)\n          .fill(this.props.emote)\n          .map((val, idx) => (\n            <div key={\"reaction-emote-\" + (idx + 1)} \n            className={\"reaction-emote reaction-emote-\" + (idx + 1)}>\n              {val}\n            </div>\n          ))}\n      </div>\n    );\n  }\n}\n\nexport default ReactionAnimation;\n","import React from \"react\";\nimport ReactionAnimation from './ReactionAnimation'\nimport responsesJson from \"../responses.json\";\nimport soundsToActionsJson from \"../soundsToActions.json\";\n\nclass TalkingToRats extends React.Component {\n  constructor(props) {\n    super(props);\n    // Randomly shuffle the rats for this round\n    this.ratNames = props.activeRatNames.sort(function (a, b) {\n      return 0.5 - Math.random();\n    });\n    // Get all of the round's rats based on their names\n    this.activeRats = this.ratNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    this.sendFirstRatTimeout = null;\n    this.numRatImgsLoaded = 0;\n    this.ratImgs = [];\n    // Store all of your canned responses in an array\n    this.responses = responsesJson;\n    this.charSpeed = 30;\n    this.ratMoveSpeed = 10;\n    this.rxnSound = \"\";\n    this.state = {\n      ratIndex: 0,\n      charsRevealed: 0,\n      responses: [],\n      incr: 1,\n      reacting: false,\n      lastActiveRat: -1,\n      ratDialogue: \"\",\n      ratImgsLoaded: false,\n    };\n  }\n  \n  ratImgLoaded() {\n    this.numRatImgsLoaded++;\n    if (this.numRatImgsLoaded === this.activeRats.length) {\n      this.setState({ratImgsLoaded: true}, () => {\n        if (this.sendFirstRatTimeout === null) {\n          this.sendFirstRatTimeout = window.setTimeout(() => {\n            this.sendRatIn();\n          }, this.props.startDelay);\n        }\n      })\n    }\n  }\n\n  preloadRatImgs() {\n    // Preload timeout if images don't load in 3.8s\n    window.setTimeout(() => {\n      if (!this.state.ratImgsLoaded) {\n        this.setState({ratImgsLoaded: true}, () => {\n          if (this.sendFirstRatTimeout === null) {\n            this.sendFirstRatTimeout = 1;\n            this.sendRatIn();\n          }\n        });\n      }\n    }, 4500)\n\n    for (let i = 0; i < this.activeRats.length; i++) {\n      let imgHTML = <img key={i} id={`ratImg${i}`} onLoad={this.ratImgLoaded.bind(this)} alt=\"a rat who wants to fall in love with you\" className=\"ratImg\" src={`/ratchelor/img/Couch/${this.activeRats[i].filename}.png`}></img>\n      this.ratImgs.push(imgHTML);\n    }\n  }\n\n  componentDidMount() {\n    this.preloadRatImgs();\n  }\n\n  componentWillUnmount() {\n    if (this.ratMoveInInterval !== null) {\n      window.clearInterval(this.ratMoveOutInterval);\n    }\n    if (this.ratMoveOutInterval !== null) {\n      window.clearInterval(this.ratMoveOutInterval);\n    }\n    if (this.textInterval !== null) {\n      window.clearInterval(this.textInterval);\n    }\n\n    if (this.reactionTimeout !== null) {\n      window.clearTimeout(this.reactionTimeout);\n    }\n  }\n\n  playReactionSound(rxn) {\n    let rxnSound = \"\";\n\n    Object.keys(soundsToActionsJson).forEach((sound) => {\n      if (soundsToActionsJson[sound].includes(rxn)) {\n        rxnSound = sound;\n      }\n    })\n    this.rxnSound = rxnSound;\n\n  }\n\n  startReaction(responseReaction, props){\n    this.setState({ responses: \"\", incr: 1, reacting: true, lastActiveRat: this.state.ratIndex , currReaction: responseReaction});\n    this.playReactionSound(responseReaction, props);\n    this.reactionTimeout = window.setTimeout(() => this.sendRatOut(), 1500)\n  }\n\n  sendRatIn() {\n    this.setState({currReaction: null})\n    this.getRandomResponses();   \n    document.getElementById(\"dialogueContainer\").classList.remove(\"leavingDialogue\");\n    document.getElementById(`ratImg${this.state.ratIndex}`).classList.add(\"enteringRat\");\n    document.getElementById(\"dialogueContainer\").classList.add(\"enteringDialogue\");\n    window.setTimeout(this.startTextMoving.bind(this), 800);\n  }\n\n  sendRatOut() {\n    document.getElementById(`ratImg${this.state.ratIndex}`).classList.remove(\"enteringRat\");\n    document.getElementById(\"dialogueContainer\").classList.remove(\"enteringDialogue\");\n    document.getElementById(`ratImg${this.state.ratIndex}`).classList.add(\"leavingRat\");\n    document.getElementById(\"dialogueContainer\").classList.add(\"leavingDialogue\");\n    window.setTimeout( () => {\n      this.setState({ reacting: false, charsRevealed: 0, ratDialogue: \"...\" }, \n          () => this.setNextRat()\n        );\n    }, 800);\n  }\n\n  startTextMoving() {\n      this.textInterval = window.setInterval(() => {\n        let ratDialogue = this.activeRats[this.state.ratIndex].dialogue[\n          this.props.round\n        ].substring(0, this.state.charsRevealed);\n        this.setState({ratDialogue});\n        let charsRevealed = this.state.charsRevealed + 1;\n        if (\n          charsRevealed >\n          this.activeRats[this.state.ratIndex].dialogue[this.props.round].length\n        ) {\n          window.clearInterval(this.textInterval);\n        } else {\n          this.setState({ charsRevealed });\n        }\n      }, this.charSpeed);\n  \n    \n  }\n\n  setNextRat() {\n    let newRatIndex = this.state.ratIndex + 1;\n    // If that was the last rat, advance to the rose ceremony\n    if (newRatIndex === this.ratNames.length) {\n      this.props.goToRoseCeremony();\n    } else {\n      this.setState({ ratIndex: newRatIndex }, () => this.sendRatIn());\n      this.props.changeCurrentRatIdx(newRatIndex);\n    }\n  }\n\n  // After you submit your response, choose a new rat\n  submitResponse(responseReaction, props) {\n    window.clearInterval(this.textInterval);\n    this.startReaction(responseReaction, props);\n  }\n\n  getRandomResponses() {\n\n    // Make sure we get random, different responses \n    const numResponses = 3;\n  \n    //gets index of rat\n    let currentRat = this.activeRats[this.state.ratIndex]\n    //gets rat filename\n    let currentRatFilename = currentRat[\"filename\"]\n    //grabs dialogue index\n    let currentIndex = this.props.round\n\n    //all reaction/response couples for all rounds of chit-chat\n    let currentRatResponses = responsesJson[currentRatFilename]\n\n    //responses for current spoken dialogue only\n    let currentRatResponseOptions = currentRatResponses[currentIndex]\n\n    currentRatResponseOptions.sort(() => 0.5 - Math.random());\n\n    let responses = [];\n    // Choose the first n\n    for (let i = 0; i < numResponses; i++) {\n      let responseText = currentRatResponseOptions[i].response;\n      let responseReaction = currentRatResponseOptions[i].reaction;\n      let responseDiv = (\n        <button onClick={\n          () => {this.submitResponse.bind(this)(responseReaction, this.props); \n                  this.props.playSelectAnswer();\n\n                  if (this.rxnSound === \"crickets\") {\n                    this.props.playCricketsSound();\n                  } else if (this.rxnSound === \"harp\") {\n                    this.props.playHarpSound();\n                  } else if (this.rxnSound === \"ding\") {\n                    this.props.playDingSound();\n                  } else if (this.rxnSound === \"metal\") {\n                    this.props.playMetalSound();\n                  } else if (this.rxnSound === \"chaching\") {\n                    this.props.playChachingSound();\n                  } else if (this.rxnSound === \"wobble\") {\n                    this.props.playWobbleSound();\n                  } else if (this.rxnSound === \"chimes\") {\n                    this.props.playChimesSound();\n                  } else if (this.rxnSound === \"womp\") {\n                    this.props.playTromboneSound();\n                  } else if (this.rxnSound === \"tada\") {\n                    this.props.playTadaSound();\n                  }\n                }\n          } key={i}>\n\n          {responseText}\n        </button>\n      );\n      responses.push(responseDiv);\n    }\n    this.setState({ responses });\n  }\n\n  // You get a random rat, they talk to you, you can respond, after you respond another rat shows up\n  render() {\n    let ratDialogue = this.state.ratDialogue;\n    if (this.state.currReaction) {\n      ratDialogue = <img id=\"dialogueImg\" alt=\"dialogue emoji\" src={`/ratchelor/img/Reactions/${this.state.currReaction}.PNG`}></img>\n    }\n    if (ratDialogue.length === 0) ratDialogue = \"...\";\n    return (\n      <div id=\"talkingToRatsScreen\" className=\"screen\">\n        <img\n          id=\"playerRat\"\n          alt=\"you as a rat, on the couch\"\n          src={this.props.playerRatUrl}\n        ></img>\n        <div id=\"allRats\">{this.ratImgs}</div>\n        <div id=\"talkingRatContainer\">\n\n        { this.state.reacting && \n          <ReactionAnimation \n            emote={<img alt=\"\" src={`/ratchelor/img/Reactions/${this.state.currReaction}.PNG`}/>}\n            left={this.activeRats[this.state.lastActiveRat].reaction_pos[0] * 100}\n            top={this.activeRats[this.state.lastActiveRat].reaction_pos[1] * 100}\n          />}\n        </div>\n        <div id=\"dialogueContainer\">\n          <div id=\"ratName\">{this.activeRats[this.state.ratIndex].name}</div>\n          <div id=\"textDialogueContainer\">\n            <div id=\"ratDialogue\"> {ratDialogue}</div>\n            <div id=\"responses\">\n                {this.state.responses}\n            </div>\n           </div>\n        </div>\n        \n      </div>\n    );\n  }\n}\n\nexport default TalkingToRats;\n","import React from \"react\";\n\nclass RoseCeremony extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // How many roses you have to give out\n    this.numRoses = this.props.numRoses;\n\n    this.activeRats = [];\n    this.backRowRats = [];\n    this.frontRowRats = [];\n\n    this.state = {\n      selectedRats: [],\n      giveRosesButton: \"\",\n      instructions: `Choose ${this.props.numRoses} contestants to continue`,\n      middleRowClass: \"\",\n      allRatsSelectedClass: \"notAllRatsSelected\",\n      lastRoseClass: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.numRoses === 1) {\n      this.setState({ instructions: `Choose your soulmate` , lastRoseClass: \"lastRose\"});\n    }\n    // Randomly shuffle the rats for this round\n    this.ratNames = this.props.activeRatNames.sort(function (a, b) {\n      return 0.5 - Math.random();\n    });\n\n    let backRowNames = [];\n    let frontRowNames = [];\n\n    let backRowSize = 0;\n    let frontRowSize = 0;\n\n    // Get the number of rats per row\n    if (this.ratNames.length === 7) {\n      backRowSize = 4;\n      frontRowSize = 3;\n    } else if (this.ratNames.length === 6) {\n      backRowSize = 3;\n      frontRowSize = 3;\n    } else if (this.ratNames.length === 5) {\n      backRowSize = 3;\n      frontRowSize = 2;\n    } else {\n      backRowSize = this.ratNames.length;\n      this.setState({ middleRowClass: \"middleRow\" });\n    }\n\n    // Find our special sized rats\n    let bearIndex = this.ratNames.indexOf(\"Bear\");\n    let miggIndex = this.ratNames.indexOf(\"Migg Mouse\");\n    let largoIndex = this.ratNames.indexOf(\"Largathon\");\n\n    // Put bear first\n    if (bearIndex !== -1) {\n      if (backRowSize > 0) {\n        backRowNames.push(\"Bear\");\n      } else {\n        frontRowNames.push(\"Bear\");\n      }\n    }\n\n    // Put largo next\n    if (largoIndex !== -1) {\n      if (backRowSize > 0) {\n        backRowNames.push(\"Largathon\");\n      } else {\n        frontRowNames.push(\"Largathon\");\n      }\n    }\n\n    // Put Migg next\n    if (miggIndex !== -1) {\n      if (frontRowSize > 0) {\n        frontRowNames.push(\"Migg Mouse\");\n      } else {\n        backRowNames.push(\"Migg Mouse\");\n      }\n    }\n\n    // Put in the rest of the names\n    for (let i = 0; i < this.ratNames.length; i++) {\n      let currName = this.ratNames[i];\n      if (\n        !(\n          currName === \"Migg Mouse\" ||\n          currName === \"Largathon\" ||\n          currName === \"Bear\"\n        )\n      ) {\n        // Fill up the rows according to the number of contestants\n        if (backRowNames.length === backRowSize) {\n          frontRowNames.push(currName);\n        } else {\n          backRowNames.push(currName);\n        }\n      }\n    }\n\n    // Reverse the rows\n    frontRowNames.reverse();\n    backRowNames.reverse();\n\n    // Get all of the round's rats based on their names\n    this.activeRats = this.ratNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    this.frontRowRats = frontRowNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    this.backRowRats = backRowNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n  }\n\n  updateInstructions() {\n    this.setState({ allRatsSelectedClass: \"\" });\n    let ratsLeft = this.props.numRoses - this.state.selectedRats.length;\n    if (ratsLeft > 1) {\n      this.setState({ instructions: `Choose ${ratsLeft} more contestants` });\n    } else {\n      this.setState({ instructions: `Choose ${ratsLeft} more contestant` });\n    }\n  }\n\n  // When a rat is clicked\n  selectRat(ratName, id) {\n    // Get the element for the current rat button\n    const element = document.getElementById(id);\n\n    // If it's already chosen, deselect it\n    if (this.state.selectedRats.indexOf(ratName) !== -1) {\n      const index = this.state.selectedRats.indexOf(ratName);\n      const newSelectedRats = this.state.selectedRats;\n      newSelectedRats.splice(index, 1);\n      this.props.playTap();\n      this.setState({ selectedRats: newSelectedRats });\n      element.classList.remove(\"selectedRat\");\n      this.updateInstructions();\n      return;\n    }\n\n    // If you've already selected the max rats, you can't select another\n    if (this.state.selectedRats.length === this.numRoses) {\n      this.props.playBadActionSound();\n      return;\n    }\n\n    // Otherwise, select this rat\n    let newSelectedRats = this.state.selectedRats;\n    newSelectedRats.push(ratName);\n    element.classList.add(\"selectedRat\");\n    this.props.playTap();\n\n    // If that was the final rat, display the advance button\n    if (this.state.selectedRats.length === this.numRoses) {\n      let giveRosesButton;\n      if (this.numRoses === 1) {\n        this.finalRat = this.props.getRatByName(this.state.selectedRats[0]);\n        giveRosesButton = (\n          <button onClick={this.endRoseCeremony.bind(this)}>\n            Propose to {this.state.selectedRats[0]}\n          </button>\n        );\n      } else {\n        giveRosesButton = (\n          <button onClick={this.endRoseCeremony.bind(this)}>\n            Continue Finding Love\n          </button>\n        );\n      }\n      this.setState({ instructions: giveRosesButton });\n      this.setState({ allRatsSelectedClass: \"allRatsSelected\" });\n    } else {\n      this.updateInstructions();\n    }\n\n    // Force a UI update for the rat list\n    this.setState({});\n  }\n\n  endRoseCeremony() {\n    this.props.setActiveRatsAndAdvanceState(this.state.selectedRats);\n  }\n\n  render() {\n    let backRatsList = [];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.backRowRats.length; i++) {\n      let filename = `/ratchelor/img/Characters/${this.backRowRats[i].filename}.png`;\n      let roseFilename = `/ratchelor/img/Characters/roses/${this.backRowRats[i].filename}.png`;\n      backRatsList.push(\n        \n        <div\n          key={i}\n          id={`rat${i}`}\n          className={`ratList`}\n          onClick={() => {\n            this.selectRat(this.backRowRats[i].name, `rat${i}`);\n          }}\n        >\n          <div className={`${this.state.allRatsSelectedClass}`}>\n          {/* {`${this.backRowRats[i].name}`} */}\n          <img\n            className={`ratPic  ${this.backRowRats[i].size}`}\n            src={filename}\n            alt=\"a rat waiting for you to make a decision\"\n          />\n           <img\n            className={`ratPic ratWithRosePic  ${this.backRowRats[i].size}`}\n            src={roseFilename}\n            alt=\"a rat waiting for you to make a decision\"\n          />\n          <div className=\"hoverText\" alt=\"info about the rat\">\n            {this.backRowRats[i].name}\n          </div></div>\n        </div>\n      );\n    }\n    let frontRatsList = [];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.frontRowRats.length; i++) {\n      let filename = `/ratchelor/img/Characters/${this.frontRowRats[i].filename}.png`;\n      let roseFilename = `/ratchelor/img/Characters/roses/${this.frontRowRats[i].filename}.png`;\n\n      frontRatsList.push(\n        <div\n          key={i}\n          id={`rat${this.backRowRats.length + i}`}\n          className={`ratList`}\n          onClick={() => {\n            this.selectRat(\n              this.frontRowRats[i].name,\n              `rat${this.backRowRats.length + i}`\n            );\n          }}\n        >\n           <div className={`${this.state.allRatsSelectedClass}`}>\n          {/* {`${this.frontRowRats[i].name}`} */}\n          <img\n            className={`ratPic ${this.frontRowRats[i].size}`}\n            src={filename}\n            alt=\"a rat waiting for you to make a decision\"\n          />\n          <img\n            className={`ratPic ratWithRosePic ${this.frontRowRats[i].size}`}\n            src={roseFilename}\n            alt=\"a rat waiting for you to make a decision\"\n          />\n          <div className=\"hoverText\" alt=\"info about the rat\">\n            {this.frontRowRats[i].name}\n          </div>\n          </div>\n        </div>\n      );\n    }\n\n    let bouquetNum = this.props.numRoses - this.state.selectedRats.length;\n    if (!bouquetNum || bouquetNum < 0 || bouquetNum > 5) bouquetNum = 0;\n\n    return (\n      <div id=\"roseCeremonyScreen\" className={`screen ${this.state.lastRoseClass}`}>\n        <img\n          id=\"bouquet\"\n          alt=\"a rose bouquet\"\n          src={`/ratchelor/img/Bouquet/bouquet${bouquetNum}.png`}\n        ></img>\n        <div id=\"instructions\">{this.state.instructions}</div>\n        <div id=\"ratListContainer\">\n          <div id=\"backRow\" className={`${this.state.middleRowClass}`}>\n            {backRatsList}\n          </div>\n          <div id=\"frontRow\">{frontRatsList}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RoseCeremony;\n","import React from \"react\";\n\nclass AnimeEnding extends React.Component {\n  render() {\n    return (\n      <div id=\"animeEndingScreen\" className=\"screen\">\n        <img\n          id=\"animePic\"\n          src={`/ratchelor/img/anime2/${this.props.winningRat.filename}.jpg`}\n          alt=\"your chosen rat looking adoringly at you\"\n        ></img>\n        <div id=\"animeText\">\n          {\" \"}\n          {\n            this.props.winningRat.dialogue[\n              this.props.winningRat.dialogue.length - 1\n            ]\n          }\n        </div>\n        <button id=\"epilogueButton\" onClick={this.props.epilogue}>\n        Epilogue\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default AnimeEnding;\n","import React from \"react\";\nimport photosRats from '../photosRats.json';\nimport ratsJson from \"../rats.json\";\n\nclass SpecialEnding extends React.Component {\n  constructor(props) {\n    super(props);\n    this.text  = []\n    this.offLimitRats = [props.finalRat]\n    this.beginningRatPool= props.beginningRatPool\n    this.photos =[]\n    for(let i = 0 ; i < this.beginningRatPool.length ; i ++){\n      var f = this.getRatEndingFilename(this.beginningRatPool[i]);\n      if (f !== undefined){\n        this.photos[this.photos.length] = f[0]\n        this.text[this.text.length] = f[1]\n\n      }\n    }\n    this.state = {\n      opacity: 1,\n      selectedRats: [],\n      selectRatsButton: <div id=\"chooseText\">Others have found love too!</div>\n    }\n  }\n  // Takes a string rat name and returns the Json object with additional details\n  getRatByName(name) {\n    for (let i = 0; i < ratsJson.length; i++) {\n      if (ratsJson[i].name === name) {\n        return ratsJson[i].filename;\n      }\n    }\n  }\n  getRatEndingFilename(fullName) {\n    //from beginning pool\n    var name = this.getRatByName(fullName)\n    var retVal;\n    var retText;\n    //var ti = this.text.length\n    var corats = []\n    var noFileFound = false;\n    for (let i = 0; i < photosRats.length; i++) {\n\n      if (photosRats[i].rat === name) {\n      \n        var numEndings = photosRats[i].photos.length\n       \n        var idx = Math.floor(Math.random() * numEndings)\n        //var coRat = [this.offLimitRats[0]]\n        // add this rat\n        // just set it to something that will start the while loop\n        var j = 0\n        var noViableEnding = true;\n        // console.log(this.offLimitRats)\n        while(noViableEnding){\n          \n          retVal = photosRats[i].photos[idx].filename;\n          retText = photosRats[i].photos[idx].text\n\n          corats = []\n          // console.log(retVal)\n          switch(photosRats[i].photos[idx].numRats){\n            case 3:\n              corats[corats.length] = photosRats[i].photos[idx].Rat1\n              noViableEnding = this.offLimitRats.indexOf(corats[corats.length-1]) >=0 \n              corats[corats.length] = photosRats[i].photos[idx].Rat2\n              noViableEnding = noViableEnding || this.offLimitRats.indexOf(corats[corats.length-1]) >=0  \n              corats[corats.length] = photosRats[i].photos[idx].Rat3\n              // console.log(\"case3\");\n              noViableEnding = noViableEnding || this.offLimitRats.indexOf(corats[corats.length-1]) >= 0\n              // console.log(\"noViableEnding: \" + noViableEnding)\n              break\n            case 2:\n              // console.log(\"case2\")\n              corats[corats.length] = photosRats[i].photos[idx].Rat1\n              noViableEnding = this.offLimitRats.indexOf(corats[corats.length-1]) >=0 \n              corats[corats.length] = photosRats[i].photos[idx].Rat2\n              noViableEnding = noViableEnding || this.offLimitRats.indexOf(corats[corats.length-1]) >=0  \n              // console.log(\"noViableEnding: \" + noViableEnding)\n              break;\n            \n            case 1:\n              // console.log(\"case1\")\n              corats[corats.length] = photosRats[i].photos[idx].Rat1\n              noViableEnding = this.offLimitRats.indexOf(corats[corats.length-1]) >=0  \n              // console.log(\"noViableEnding: \" + noViableEnding)\n              break;\n            default:\n              //do nothing\n              break;\n            }\n          // break while loop\n          if(j > numEndings){\n            noViableEnding = false\n            noFileFound= true;\n            // console.log()\n          }\n          idx = (idx + 1)%numEndings\n          \n          // get the other rat involved\n          j++\n        }\n      }\n    }\n    if(noFileFound){\n      return undefined;\n    }\n    for (var i = 0 ; i < corats.length; i++){\n      this.offLimitRats[this.offLimitRats.length] = corats[i];\n    }\n   \n\n    return [retVal, retText];\n  }\n  // When a rat is clicked\n  selectRat(id) {\n    // Get the element for the current rat button\n    if(this.selecctedID === id && this.selected === true){\n      this.deselect();\n      return;\n    }\n    \n    if(this.selecctedID !== null){\n    this.deselect();\n    }\n\n    const element = document.getElementById(id);\n    if (element === null){\n      return;\n    }\n    element.classList.add(\"selectedRat\");\n    this.selecctedID = id\n    this.selected = true;\n\n\n  }\n\n  deselect(){\n    const element = document.getElementById(this.selecctedID);\n    this.selected = false;\n    if (element === null){\n      return;\n    }\n    element.classList.remove(\"selectedRat\");\n\n  }\n  random(seed) {\n    var x = Math.sin(seed++) * 10000;\n    return x - Math.floor(x);\n}\n  render() {\n    //console.log(this.photos)\n    // console.log(photos)\n    let ratsList = [<img key={\"bgimg\"} id=\"specialBg\" onClick={this.deselect.bind(this)} src={`/ratchelor/img/Photos/background.png`} alt=\"images on a table!\"></img> ]\n\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.photos.length; i++) {\n      if(this.text[i] === undefined){continue;}\n      ratsList.push(\n        <div key={\"ratslist\" + i} id=\"ratContainer\">\n          <div  id={`rat${i}`} className=\"ratListItem\">\n          <div className=\"ratPic\">\n            <img className=\"ratFrame\"\n            style={{\n          width: \"100%\",\n          paddingTop:(30* this.random(i-991))+\"px\" ,\n          paddingRight: (30* this.random(i+123)) +\"px\",\n          transform: \"rotate(\"+(this.random(i+22)*30) + \"deg) scale(2.24) \",\n         \n         }} src={\"/ratchelor/img/Photos/\"+this.photos[i]} alt=\"\"/>\n       \n          </div>\n          <div className=\"ratNameContainer\">\n          <div className=\"ratName\">{`${this.text[i]}`}</div>\n          </div>\n        </div>\n        </div>\n      )\n    }\n    ratsList.push(\n    <div id=\"endingButtonContainer\" key={\"restartbutton\"} style={{paddingTop:20}}> \n      <button id=\"followusButton\" onClick={() => {window.open(\"https://instagram.com/alg0rat\")}}>Follow for updates</button>\n      <button id=\"payusButton\" onClick={() => {window.open(\"https://ko-fi.com/alg0rat\")}}>Donate if you enjoyed!</button>\n      <button id=\"restartButton\" onClick={this.props.restartGame}>Replay?</button>\n      </div>\n    )\n    return (\n      <div id=\"SpecialEndingScreen\" className=\"screen\">\n\n        <div id=\"ratListContainer\">{ratsList}</div>\n\n    </div>\n    );\n  }\n}\n\nexport default SpecialEnding;\n\n","export default __webpack_public_path__ + \"static/media/Cheerful.d940b0ce.mp3\";","export default __webpack_public_path__ + \"static/media/Funky.a0bb99de.mp3\";","export default __webpack_public_path__ + \"static/media/Intense.557a862d.mp3\";","export default __webpack_public_path__ + \"static/media/Intro_Screen.0e89e7f0.mp3\";","export default __webpack_public_path__ + \"static/media/Paris.03b97a6d.mp3\";","export default __webpack_public_path__ + \"static/media/Pop.0f90351b.mp3\";","export default __webpack_public_path__ + \"static/media/Romantic_Happy.36d11f79.mp3\";","export default __webpack_public_path__ + \"static/media/Romantic_Sad.5b6aab94.mp3\";","export default __webpack_public_path__ + \"static/media/Rose_Ceremony.32898cb5.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_1.b359ab59.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_2.fcfc13d8.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_3.fbf0c31f.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_4.e49c91ea.mp3\";","import React from \"react\";\n\nimport Cheerful from \"../sounds/Cheerful.mp3\";\nimport Funky from \"../sounds/Funky.mp3\";\nimport Intense from \"../sounds/Intense.mp3\";\nimport IntroScreen from \"../sounds/Intro_Screen.mp3\";\nimport Paris from \"../sounds/Paris.mp3\";\nimport Pop from \"../sounds/Pop.mp3\";\nimport RomanticHappy from \"../sounds/Romantic_Happy.mp3\";\nimport RomanticSad from \"../sounds/Romantic_Sad.mp3\";\nimport RoseCeremony from \"../sounds/Rose_Ceremony.mp3\";\nimport Talking1 from \"../sounds/Talking_To_Rat_1.mp3\";\nimport Talking2 from \"../sounds/Talking_To_Rat_2.mp3\";\nimport Talking3 from \"../sounds/Talking_To_Rat_3.mp3\";\nimport Talking4 from \"../sounds/Talking_To_Rat_4.mp3\";\nimport {\n  RAT_SELECT,\n  PLAYER_SELECT,\n  TALKING_TO_RATS,\n  ROSE_CEREMONY,\n  ANIME_ENDING,\n  PROPOSAL,\n} from \"../App\";\n\nconst TalkingMusic = [Talking1, Talking2, Talking3, Talking4];\nconst Endings = {\n  CHEERFUL: Cheerful,\n  FUNKY: Funky,\n  INTENSE: Intense,\n  PARIS: Paris,\n  POP: Pop,\n  ROMANTICHAPPY: RomanticHappy,\n  ROMANTICSAD: RomanticSad,\n};\n\nclass MusicManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.selectURL = this.selectURL.bind(this);\n    this.url = this.selectURL(this.props.phase);\n    this.playSound = this.playSound.bind(this);\n    this.props.setCallPlaySound(this.playSound);\n    this.volume = props.volume / 100 - 0.08;\n    this.volume = this.volume < 0 ? 0 : this.volume;\n    this.finalRat = null;\n    this.currentRatIdx = -1;\n    this.musicStarted = false;\n  }\n\n  shouldComponentUpdate(props) {\n\n    if (this.props.phase < 1 && !this.musicStarted) {\n      return false;\n    }\n\n    let needToRender = false;\n    let newurl = this.selectURL(props.phase);\n\n    if (newurl !== this.url) {\n      this.url = newurl;\n      needToRender = true;\n    }\n\n    let newvolume = props.volume / 100 - 0.08;\n    newvolume = newvolume < 0 ? 0 : newvolume;\n\n    if (this.volume !== newvolume) {\n      this.volume = newvolume;\n      this.setVolume(this.volume);\n    }\n    if (this.finalRat !== props.finalRat) {\n      this.finalRat = props.finalRat;\n      needToRender = true;\n    }\n    if (this.currentRatIdx !== props.currentRatIdx) {\n      this.currentRatIdx = props.currentRatIdx;\n      needToRender = true;\n    }\n\n    if (!this.musicStarted || needToRender) {\n      this.playSound(this.phase);\n    }\n\n    return false;\n  }\n\n  setVolume(vol) {\n    if (this.rap) {\n      this.rap.volume = vol;\n    }\n  }\n\n  playSound() {\n    if (\n      !this.musicStarted ||\n      (this.url !== \"\" && this.rap && this.rap.src.indexOf(this.url) < 0)\n    ) {\n      this.rap.src = this.url;\n      this.rap.volume = this.volume;\n      this.rap.addEventListener('canplaythrough', () => {\n        var playPromise = this.rap.play();\n        this.musicStarted = true;\n        if (playPromise !== undefined) {\n          playPromise.then((_) => {}).catch((e)=>{console.log(\"error caught\", e)});\n        }\n      })   \n    }\n  }\n\n  selectURL(phase) {\n    let url = IntroScreen;\n    switch (phase) {\n      case RAT_SELECT:\n        url = IntroScreen;\n        break;\n      case PLAYER_SELECT:\n        url = IntroScreen;\n        break;\n      case TALKING_TO_RATS:\n        url = TalkingMusic[this.currentRatIdx % TalkingMusic.length];\n        break;\n      case ROSE_CEREMONY:\n        url = RoseCeremony;\n        break;\n      case ANIME_ENDING:\n        url = Endings[this.finalRat.ending];\n        break;\n      case PROPOSAL:\n        url = Endings[this.props.finalRat.ending];\n        break;\n      default:\n        url = IntroScreen;\n    }\n    return url;\n  }\n\n  render() {\n    this.url = this.selectURL(this.props.phase);\n    return (\n      <audio\n        src={this.url}\n        ref={(element) => {\n          this.rap = element;\n        }}\n        loop\n        volume={this.props.phase < 2 ? 0 : this.volume}\n      />\n    );\n  }\n}\n\nexport default MusicManager;\n","export default __webpack_public_path__ + \"static/media/rose3.691f932e.wav\";","export default __webpack_public_path__ + \"static/media/bad_action_sfx.63f0b124.wav\";","export default __webpack_public_path__ + \"static/media/curtains.575f420c.mp3\";","export default __webpack_public_path__ + \"static/media/louder_tap.0bf104bc.mp3\";","export default __webpack_public_path__ + \"static/media/crickets.542a8a4c.mp3\";","export default __webpack_public_path__ + \"static/media/harp.e67d31d9.mp3\";","export default __webpack_public_path__ + \"static/media/trombone.112cbc7a.mp3\";","export default __webpack_public_path__ + \"static/media/chaching.ec7b7df0.mp3\";","export default __webpack_public_path__ + \"static/media/ding.8dd6449b.mp3\";","export default __webpack_public_path__ + \"static/media/metal.2ffd589f.mp3\";","export default __webpack_public_path__ + \"static/media/tada.be0721f5.mp3\";","export default __webpack_public_path__ + \"static/media/chimes.054a590c.mp3\";","export default __webpack_public_path__ + \"static/media/wobble.a5e13a72.mp3\";","import React from \"react\";\n\nimport assignRose from \"../sounds/rose3.wav\";\nimport badAction from \"../sounds/bad_action_sfx.wav\";\nimport newRound from \"../sounds/curtains.mp3\";\nimport selectAnswer from \"../sounds/louder_tap.mp3\";\nimport tap from \"../sounds/louder_tap.mp3\";\nimport crickets from \"../sounds/crickets.mp3\";\nimport harp from \"../sounds/harp.mp3\";\nimport trombone from \"../sounds/trombone.mp3\";\nimport chaching from \"../sounds/chaching.mp3\";\nimport ding from \"../sounds/ding.mp3\";\nimport metal from \"../sounds/metal.mp3\";\nimport tada from \"../sounds/tada.mp3\";\nimport chimes from \"../sounds/chimes.mp3\";\nimport wobble from \"../sounds/wobble.mp3\";\n\n\nclass SoundEffectController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playSound = this.playSound.bind(this);\n    this.playRoseSound = this.playRoseSound.bind(this);\n    this.playBadActionSound = this.playBadActionSound.bind(this);\n    this.playNewRoundSound = this.playNewRoundSound.bind(this);\n    this.playSelectAnswer = this.playSelectAnswer.bind(this);\n    this.playCricketsSound = this.playCricketsSound.bind(this);\n    this.playHarpSound = this.playHarpSound.bind(this);\n    this.playTromboneSound = this.playTromboneSound.bind(this);\n    this.playTap = this.playTap.bind(this);\n    this.playChachingSound = this.playChachingSound.bind(this);\n    this.playDingSound = this.playDingSound.bind(this);\n    this.playMetalSound = this.playMetalSound.bind(this);\n    this.playTadaSound = this.playTadaSound.bind(this);\n    this.playChimesSound = this.playChimesSound.bind(this);\n    this.playWobbleSound = this.playWobbleSound.bind(this);\n\n    this.props.setPlayRoseSound(this.playRoseSound);\n    this.props.setPlayBadActionSound(this.playBadActionSound);\n    this.props.setPlayTap(this.playTap);\n    this.props.setPlayCricketsSound(this.playCricketsSound);\n    this.props.setPlayHarpSound(this.playHarpSound);\n    this.props.setPlayTromboneSound(this.playTromboneSound);\n    this.props.setPlaySelectAnswer(this.playSelectAnswer);\n    this.props.setPlayNewRoundSound(this.playNewRoundSound);\n    this.props.setPlayChachingSound(this.playChachingSound);\n    this.props.setPlayDingSound(this.playDingSound);\n    this.props.setPlayMetalSound(this.playMetalSound);\n    this.props.setPlayTadaSound(this.playTadaSound);\n    this.props.setPlayChimesSound(this.playChimesSound);\n    this.props.setPlayWobbleSound(this.playWobbleSound);\n\n    this.volume = props.volume/100 + 0.15;\n    this.finalRat = null;\n    this.currentRatIdx = -1;\n    this.musicStarted = false;\n  }\n\n  shouldComponentUpdate(props) {\n    if(props.volume === 0){\n      this.volume = 0;\n      this.setVolume(this.volume);\n      return false;\n    }\n\n    let newvolume = props.volume / 100 + 0.15;\n    newvolume = newvolume > 1 ? 1 : newvolume;\n\n    if(newvolume !== this.volume){\n      this.volume = newvolume;\n      this.setVolume(this.volume);\n    }\n\n    return false;\n  }\n\n  playWobbleSound(){\n    this.playSound(wobble);\n  }\n\n  playChimesSound(){\n    this.playSound(chimes);\n  }\n\n  playTadaSound(){\n    this.playSound(tada);\n  }\n\n  playMetalSound(){\n    this.playSound(metal);\n  }\n\n  playDingSound(){\n    this.playSound(ding);\n  }\n\n  playChachingSound(){\n    this.playSound(chaching);\n  }\n\n  playCricketsSound(){\n    this.playSound(crickets);\n  }\n\n  playTromboneSound(){\n    this.playSound(trombone);\n  }\n\n  playHarpSound(){\n    this.playSound(harp);\n  }\n\n  playRoseSound(){\n    this.playSound(assignRose);\n  }\n\n  playBadActionSound(){\n    this.playSound(badAction);\n  }\n\n  playNewRoundSound(){\n    this.playSound(newRound);\n  }\n\n  playSelectAnswer(){\n    this.playSound(selectAnswer);\n  }\n\n  playTap(){\n    this.playSound(tap);\n  }\n\n  setVolume(vol) {\n    if (this.rap && this.rap.volume !== vol) {\n      this.rap.volume = vol;\n    }\n  }\n\n  playSound(url) {\n    if ( this.rap ) {\n      this.rap.src = url;\n      this.rap.volume = this.volume;\n      this.rap.addEventListener('canplaythrough', () => {\n        var playPromise = this.rap.play();\n        if (playPromise !== undefined) {\n          playPromise.then((_) => {}).catch((e)=>{console.log(\"error caught\", e)});\n        }\n      })  \n    }\n  }\n\n  render() {\n    return (\n      <audio\n        src={this.url}\n        ref={(element) => {\n          this.rap = element;\n        }}\n        volume={this.volume}\n      />\n    );\n  }\n}\n\nexport default SoundEffectController;\n","export default __webpack_public_path__ + \"static/media/volume_0.f85c5915.png\";","import React from \"react\";\nimport soundLogoMute from \"../img/icons/volume_mute.png\";\nimport soundLogo0 from \"../img/icons/volume_0.png\";\nimport soundLogo1 from \"../img/icons/volume_1.png\";\nimport soundLogo2 from \"../img/icons/volume_2.png\";\nimport soundLogo3 from \"../img/icons/volume_3.png\";\n\nclass GameOptions extends React.Component {\n  render() {\n    const prog = this.props.volume;\n    let soundurl;\n    if (prog === 0) {\n      soundurl = soundLogoMute;\n    } else if (prog < 25) {\n      soundurl = soundLogo0;\n    } else if (prog < 50) {\n      soundurl = soundLogo1;\n    } else if (prog < 75) {\n      soundurl = soundLogo2;\n    } else {\n      soundurl = soundLogo3;\n    }\n\n    const toggleSound = () => {\n      if (this.props.volume === 0) {\n        this.props.changeVolume(18);\n      } else {\n        this.props.changeVolume(0);\n      }\n    };\n\n    return (\n      <div id=\"game-options\">\n        <img\n          src={soundurl}\n          alt=\"Sound icon\"\n          className=\"sound-icon\"\n          onClick={toggleSound}\n        />\n        <div className=\"sound-slider\">\n          <input\n            min=\"0\"\n            max=\"100\"\n            type=\"range\"\n            value={this.props.volume}\n            onChange={(evt) =>\n              this.props.changeVolume(parseInt(evt.target.value))\n            }\n          />\n          <div\n            className=\"behind-slider\"\n            style={{\n              backgroundImage: `linear-gradient(to right, #fffec6, #fffec6 ${prog}%, #977c40 ${prog}%, #977c40 100%)`,\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GameOptions;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAA55JREFUaEPVmj+OU0EMxpNASZeeiiMgUVHRbEnFAfYOVIhyK+6wB6CipKFCQkLsEajo09Ev6yjzmDex/X32zASxUpp982z//NnzL9luJvzdP3t6HzW7/flrG30nMn4XGfw/jx2axYySWvJmqNsFOgoMVcoI8BTopQDrBPTChkFDkJ9fmGLd/fi2ef7+ERLz7HkWmAYdBWiSXX2noTOwFCgN6ShIU5DAUdjHKAAa8sHQ9c0T09ztu9/IVei5xBWBhYqyoNcvX4UCNcFJRYszFtYFpSBP5eqpyWTgCB6EjMCaoBAy0I9sEm6/ftFzIr5AEpCyOdAApBa5Bu5C1kYcYA9WBXXV7IRswQs0DSoGErBnoFHIITOtV5ZeYpX3LFVXoFFISS7bfzJWnWkdyDKTR2doDRauo8dSG1SudVKGrKvGJKWtsYuiGTXRsoHUNvtSKqVZl93EECWMD94dakpw5YOS0j5vwVDS2vdb4Y6KZtVcZszA9g7Osk2rtICRfq171Qd11EQZhj0YmGkpWMNegcWlG62503gJDiVDNZ1tFfDeNNACocIG97R0vzqwO7inJRXd7/eb8rF2P8iUdwKCrWAYFz752IoGSkgA6z8NeFEWqMmWOzuuxDW1dNsEeMEx59msqgI7FVQc1LDsxp1Vix13EdAW1upTVi12XOsnpWgkk8Uhq6Y7W6PZzHkeAtXWxrYPO2LRTzc9Bqt3KVBr8WchP3z6qIcbmNktXra6IKhliIXsEcTynelTCNoGam0KLCBLTVlO1Lsj4oDAqljHZIMqC/slVIxWAKvuDl0T1o4Ph0MoDrM3Q1bGDIaly2ZsTDjzrPigSvmyqnpqMtu9FLJzJoWKyh1qVFUP8u3rNymG7EZidfCO9Kk4tFSV/7OKd9GeXl4JAE5FWFExClStAdHNHkpEZulgksbd6yqWUMCMc9QS6PniA9wXybhFUVi+RK96ajLgs9QU3zFFBfZhf2ruaK4cHNnX3vx9TqvVmDx7j1BTTMS+ZCpOK9jFMbrwIjfw9F1x8Bu1+NeGFewq2YF7WqaM3TGJL4XVWRf262km7g44YyABqZZu7XvIVShZspAZtYb0ofMLUfirFAkgDdwDSYDVyUFVSM26YiQNC6VqBgQBj2VJ/NaXAi3GpsEm4FjAkkaqdFtRpgEH1GdUXJV2wPZq6L+CjQJ2KTp8ZiaynQUcBloMzVC4F25I6Voi9AKPhJsKqiWAgZ8FWOL5A1aWn0lX+mM5AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAAtZJREFUaEPtmj1SAzEMhQM1XUquQRpuQss1qLkGLTehCdegTEcPY2bEOIp+nmR5s2TITJqsbel7T/7J7m42/5/LUuBqBs7+9fYLGXf38DElvhS7LBAK5wkwC34YtApQEqASOg1qAd7t7j3jNu/7N7cNNagAToFqkAigRefBjwCHQGcBSvAadBYWBpUgRx1EarcKGAI9F2QvhAQccdcFXQMkAY/AmqBrghyFvUbmCbVZYk56+WRzUB3lbmYDeIlnr/My9uarCLp2SK2MLVi3dNfmZF8BkdxOQGeeXbNlivazcncdRYOcqx13VYM1QSOlcS5QNO7RYhRdhB6fb37ivDx9QvGoPTVG+yGDe6uwCuq5yZPmyUgQUp9ZsHwFnjZHG5QnRhMHaYM4ytvw6pwGSoF7kOYeffvEqmCtKiwD3W63G/pydatAMs5SnxLQBth/JGBvIZohRl++JaCa0lwAD3bEMe+Pxy/orBORBztjrkqCiY56W0tUeQu2cnuR8iIDU6WbmU8cNipWpL1kVAhU2huzAJpYGRERESBQbfOPQmrtZ5dvE0IE7c+NmsJRSET1yLkZHe9kH/VuRVAH7VAQDcyPf9KJKTOm1gcq3R5yNPisSvDyCoEeDgdvvNVed0GXWCiWUEcF1Z55/AVXpdyPQLUFKepqE6P/LuGYFoOYzNKNukpwPKj2+wwBtJxPQDOuoiBouxkCuIuR5aqVOLIvRqeEJ4B1g0wE5a7SAEhiHBAB9gAqrruO8iAarAfE+yGiRQBDtzv5wNZ93ug93UjS0bYeZBsv/MS7+k95FIq3R5+Cu6Bt4DU++W55oZCQo6Tg2mAjkCFQzdn2+5LlnH0dByrdfl4s+VIVMh9bG+S/dBjUKmW6Vumw9docAkg5pUGtUu6dyEJXvxc4BIq4y8tPA/fAaJyIi33sElBkDo/ul1nAktL1kh99zDEKN9VRCx4Br4TzjLjI69+ThGpE2iw0CgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAAvRJREFUaEPtmjFSAzEMRReGki4l1yANN6HlGtRcg5ab0IRrUKajh3FhRlEk63/b2oQMmUmTaG29/yXvrneX5f9zWQpcZeDs3u6+kXG3j58p81tzT5sIhYsEyIIfBp0FaAkwE7obtAV4v32IjFs+du9hTA2YAdwF6kEigC26CH4EmALNArTgPeheWBjUghx1EKndWcAQ6KkgpRAWMONuCHoOkBV4BLYJek6Qo7A3SJ/UmNGefHq5PZru9fmLSWEpOUSrM3VlpN0chSyTW6A1KRZYw0b9apZuBmQE2gPMwIagM5z0atNzmHFXwrZcPQLNcrPViCPAqKvX1EqQFFwctFxs9bS3QHpXb03QzLK1NOuFRfQ/KF22bKviaE9ph7zj0LjWlZPuVxc0cjMqK9SdLFgNmtajRYhIjNYpRwuAjCUd1tWZBlonlQnWRQeFQOOQK7dpoJvNZqlfvTiwbsjj0f6PFqQpoAVQfizgaIFBxUDjSj6yfKeAempqASJYbxzGVW8R/QXN2s2LYCUc41ZUqvp/09Ho1MJO0oJl3GLnleXbVbo9ymvYnqStldwaxzKKArXOjb0AnlgjF/gt8SBQ7+TPQnrx2eVbBDBB5a2PpzALiZZqFnR4ratBRwH3+/0BcxaYviGHSrdmNgpZxpkxBlodMo4C1W70THiqY0LQrNJaG9gF9fZO/4KrVu4HoN4uGutqEUN+13ZPzleZmqXLulrhNJj3e4YAXs5HoD2uoiBoXIYA4WLUcrWVuLeFKSHYlogEaO3xmqDa1ToAkpgGRIAjgBn/h47qSTzYCEgfh4jGAEY79tTzUXn7w+7pMkmzsRFkGY9+4j37ppyF0vHoU/AQtAx8jk++S14oJORoVfDcYBlICtRztvy+Zjn3vo4Dla7sizVfqkL6scREj/VpRxHg2Q63XsxAAGvOtKMobI3rLevozRMGcshRFjgCj8Dq8SzgFEetc2DWjn8vYBpor9OWaKNwcsyhHmWvahC3Z8Kx+V1E/A/Ns6VpL6rE4gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAA0VJREFUaEPtmjGOFEEMRWcRIdmEXINNuAkp1yDmGqTchGS5BuFk5LAljVcet+3/XeVaLStGGq20Xe3y8//lrunu0+n/53VV4G4HzsP393+YuPeffm2Z35u7ZaJHsBGbgkMF2AW/DMqqhwCD43eP4JOn3p42BYoU/HD/ESb38+EHHCMDOlSeBXVtygBmdAh+BbgEGtl0FdCDj6BnYSnQyKoC+PnrO2jDb19+wzE7gVnQg1W1igyohaiCewpX1IWgnl09q87AangGfAU2BWUhkScrRUDAs7Al0K6mg8CrsIyFQ1CrZhekVT+C7oZ1QSuQmTooWQY6i2FtnCkLQZGSyIbVhuPFY2Ez0De2qjv3rgNCvlEDq7pAx8lyPyhase1qt82grLKsqiMnT9mDojp5ZFsEOpKTrze2sr4rSwT+Hq2qKZNX7FZdg6yyqDHdWFeDIjVRhRE8CzDUYcdqWGvf1LrImtnxatNBhavmYt25DVQS61iH1h1RzMyFbaDn8/kkX2YjUFUILQUUrwV0AOqPB8xu9VgLM+O0fVtAo2raArCwK5uJyL5PoLt2RCyshmPU8rpxZl9XUXRpQevBHmdg2TXIjpMcRMAp67IVt+u2UqCZOSS+J1QJ1Ls2WrVYmOoOiY0bjaNAo4t/FbI6noFjlXdB9VYqCrQjafb6W12nI+4TKHPfZZwQbQqY6jMgDASrop6Psq6c0KFiRwwNwBTmRlFGkcvlwgx7kWOgomzFXiSdSioEjR7y/AuqernfgEYNqarqKIb+dqpdbUTClFq3qqrAWbDo/6sF8ASIcj6AzqjKgjDjqoqxxYLNKFM1Szy7+yfJoSWBjlvI7AaZC2pVlQDMxBaQAZaEd6k54r9lpdcqzGzIB7A+jymal1t0Xul2pw2c3eeduafLFHUmLoIc85afeHf/KGfgszHsg2EIOibpevK9CoWazzgeXTVg170GPxQEvRPUDbUCSVlXT/Cc7xlFhZp9/4hVVOZ1rf5c6s5ClhUV2o53AVlrZ0VkbxZMg14b1PgDX12d7dLIJRXIJVBm7XqqReAITGJVAdM1x9rK2WBQKk/GX3p3l7qOVhO7ruEO6CU4nfcW0Kgw5POdNriqQK9i/F9ScciaJnkOvwAAAABJRU5ErkJggg==\"","import React from \"react\";\n\nclass CharacterImg extends React.Component {\n  render() {\n    return (\n      <div\n        onClick={this.props.onClick}\n        className={`player-img ${this.props.selected && \"selected-img\"}`}\n      >\n        {this.props.selected && (\n          <img\n            alt=\"\"\n            src=\"/ratchelor/img/Frames/hearts7.PNG\"\n            className=\"selected-bg\"\n          />\n        )}\n        <img src={this.props.src} alt=\"one of the selectable characters\" />\n      </div>\n    );\n  }\n}\n\nclass CharacterSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratSelected: false,\n      transform: 1,\n    };\n  }\n\n  componentDidMount() {\n    // this.interval = window.setInterval(() => {\n    //   let transform = -1 * this.state.transform\n    //   this.setState({transform})\n    //   console.log(transform)\n    // }, 1000);\n  }\n\n  render() {\n    let buttonArea;\n    if (this.state.ratSelected) {\n      buttonArea = (\n        <div id=\"button-container\">\n          <button\n            onClick={( )=>{\n              this.props.onClick(); \n              //this.props.playSelectAnswer();\n            }\n          }\n            style={{ display: this.props.playerIdx >= 0 ? \"block\" : \"none\" }}\n          >\n            Onwards!\n          </button>\n        </div>\n      );\n    } else {\n      buttonArea = (\n        <div id=\"ratchelor-intro-question\">Which rat do you want to be?</div>\n      );\n    }\n    return (\n      <div id=\"custom-character\" className=\"screen\">\n        <div id=\"ratchelor-intro-container\">\n          <img\n            alt=\"\"\n            id=\"hearts-header\"\n            src=\"/ratchelor/img/Player/playerselecthearts.png\"\n          ></img>\n          <div id=\"ratchelor-intro-title\">You are The Ratchelor,</div>\n          <div id=\"ratchelor-intro\">\n            A single rat looking for love. You will meet many rats and\n            choose who to keep, round after round, until you find true love.\n          </div>\n        </div>\n        <div id=\"custom-character-row\">\n          {Array(4)\n            .fill(\"\")\n            .map((_, idx) => (\n              <CharacterImg\n                selected={idx + 1 === this.props.playerIdx}\n                onClick={() => {\n                  this.props.changePlayerIdx(idx + 1);\n                  this.setState({ ratSelected: true });\n                  this.props.playTap();\n                }}\n                key={`char${idx}`}\n                src={`/ratchelor/img/Player/${idx + 1}_intro.png`}\n              />\n            ))}\n        </div>\n        {buttonArea}\n      </div>\n    );\n  }\n}\n\nexport default CharacterSelect;\n","import React from \"react\";\n\nconst FADE_DELAY = 3600;\n\nclass Proposal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      opacity: 1.0,\n    };\n  }\n\n  componentDidMount() {\n    window.setTimeout(() => {\n      this.opacityInterval = window.setInterval(() => {\n        if (this.state.opacity <= 0) {\n          this.props.advanceState();\n          window.clearInterval(this.opacityInterval);\n        } else {\n          let opacity = this.state.opacity - 0.01;\n          this.setState({ opacity });\n        }\n      }, 10);\n    }, FADE_DELAY);\n  }\n\n  render() {\n    return (\n      <div\n        id=\"proposalScreen\"\n        style={{ opacity: this.state.opacity }}\n        className=\"screen\"\n      >\n        <img\n          id=\"finalRat\"\n          alt=\"the rat that you're proposing to\"\n          className={`propose-${this.props.finalRat.size}`}\n          src={`/ratchelor/img/Characters/${this.props.finalRat.filename}.png`}\n        ></img>\n        <img id=\"proposingRat\" alt=\"you are on one knee proposing\" src={this.props.playerRatUrl}></img>\n      </div>\n    );\n  }\n}\n\nexport default Proposal;\n","import \"./App.css\";\nimport React from \"react\";\nimport IntroScreen from \"./components/IntroScreen\";\nimport RatSelect from \"./components/RatSelect\";\nimport TalkingToRats from \"./components/TalkingToRats\";\nimport RoseCeremony from \"./components/RoseCeremony\";\nimport AnimeEnding from \"./components/AnimeEnding\";\nimport SpecialEnding from \"./components/SpecialEnding\";\nimport MusicManager from \"./components/MusicManager\";\nimport SoundEffectController from \"./components/SoundEffectController\";\nimport GameOptions from \"./components/GameOptions\";\nimport CharacterSelect from \"./components/CharacterSelect\";\nimport Proposal from \"./components/Proposal\";\n\nimport ratsJson from \"./rats.json\";\nimport firebase from \"firebase/app\";\nimport \"firebase/analytics\";\nimport \"firebase/database\";\nimport allPublicImagesForPreload from \"./allPublicImages.json\";\n\n/* background img files for preload -- sry for the tech debt but its 1am */\nimport bg0 from \"./img/Backgrounds/beach.png\";\nimport bg1 from \"./img/Backgrounds/couch.gif\";\nimport bg2 from \"./img/Backgrounds/curtains.png\";\nimport bg3 from \"./img/Backgrounds/garden.png\";\nimport bg4 from \"./img/Backgrounds/intro.gif\";\n//import bg7 from \"./img/Backgrounds/rose_ceremony.png\";\nimport bg5 from \"./img/Backgrounds/wallpaper.png\";\n\n/* sound files for preload -- sry for the tech debt but its 1am */\nimport s1 from \"./sounds/bad_action_sfx.wav\";\nimport s2 from \"./sounds/curtains.mp3\";\nimport s3 from \"./sounds/louder_tap.mp3\";\nimport s5 from \"./sounds/crickets.mp3\";\nimport s6 from \"./sounds/harp.mp3\";\nimport s7 from \"./sounds/trombone.mp3\";\nimport s8 from \"./sounds/Cheerful.mp3\";\nimport s9 from \"./sounds/Funky.mp3\";\nimport s10 from \"./sounds/Intense.mp3\";\nimport s11 from \"./sounds/Intro_Screen.mp3\";\nimport s12 from \"./sounds/Paris.mp3\";\nimport s13 from \"./sounds/Pop.mp3\";\nimport s14 from \"./sounds/Romantic_Happy.mp3\";\nimport s15 from \"./sounds/Romantic_Sad.mp3\";\nimport s16 from \"./sounds/Rose_Ceremony.mp3\";\nimport s17 from \"./sounds/Talking_To_Rat_1.mp3\";\nimport s18 from \"./sounds/Talking_To_Rat_2.mp3\";\nimport s19 from \"./sounds/Talking_To_Rat_3.mp3\";\nimport s20 from \"./sounds/Talking_To_Rat_4.mp3\";\nimport s21 from \"./sounds/chimes.mp3\";\nimport s22 from \"./sounds/tada.mp3\";\nimport s23 from \"./sounds/wobble.mp3\";\nimport s24 from \"./sounds/chaching.mp3\";\nimport s25 from \"./sounds/metal.mp3\";\n\nconst backgroundSrc = [bg0, bg1, bg2, bg3, bg4, bg5];\nconst soundsToPreload = [s2, s3, s5, s6, s7, s11, s1, s21, s22, s23, s24, s25];\nconst soundsToAsyncLoad = [s17, s18, s19, s20, s16, s8, s9, s10, s12, s13, s14, s15];\n\nvar firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_URL,\n  databaseURL: process.env.REACT_APP_DB_URL,\n  projectId: process.env.REACT_APP_PROJECTID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APPID,\n  measurementId: process.env.REACT_APP_MEASUREID\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();\n\n// Game Stages\nconst INTRO = 0;\nconst PLAYER_SELECT = 1;\nconst RAT_SELECT = 2;\nconst TALKING_TO_RATS = 3;\nconst ROSE_CEREMONY = 4;\nconst ANIME_ENDING = 5;\nconst SPECIAL_ENDING = 6;\nconst PROPOSAL = 7;\n\nconst INTERLUDE_OFFSET = 900;\nconst ANIM_TIME = 400;\n\nclass RatchelorGame extends React.Component {\n  constructor() {\n    super();\n    // Num rats the person should select at the very beginning\n    this.numRatsInGame = 7;\n    // How many rounds there are\n    this.numRounds = 5;\n    this.setProposedInDatabase = false;\n    // How many roses get given out each round\n    this.rosesPerRound = [5, 4, 3, 2, 1];\n\n    this.allPublicImagesForPreload = allPublicImagesForPreload;\n    this.backgroundSrc = backgroundSrc;\n    this.soundsToPreload = soundsToPreload;\n    this.soundsToAsyncLoad = soundsToAsyncLoad;\n\n    this.state = {\n      // What phase of the game we're in\n      gameStage: INTRO,\n      // What round of the rose-talking loop we're on\n      roundNum: 0,\n      //beginning rat pool for the special end\n      beginningRatPool:[],\n      // String list of all rat names currently still in the game\n      activeRatNames: [],\n      // Text for interlude screens that fall down\n      interludeText: \"Round 1\",\n      //the rat that we r currently talking to\n      currentRatIdx: 0,\n      volume: 15,\n      playerIdx: -1,\n      isPreloading: true,\n      percentLoaded: 0.0,\n      isShowingSafariMsg: false,\n      isOnMobile: false,\n      curtainsClass: \"curtainsOff\"\n    };\n    this.finalRat = ratsJson[3];\n    this.changeCurrentRatIdx = this.changeCurrentRatIdx.bind(this);\n    this.changeVolume = this.changeVolume.bind(this);\n    this.changePlayerIdx = this.changePlayerIdx.bind(this);\n    this.setCallPlaySound = this.setCallPlaySound.bind(this);\n    this.setPlayRoseSound = this.setPlayRoseSound.bind(this);\n    this.setPlayCricketsSound = this.setPlayCricketsSound.bind(this);\n    this.setPlayHarpSound = this.setPlayHarpSound.bind(this);\n    this.setPlayTromboneSound = this.setPlayTromboneSound.bind(this);\n    this.setPlayBadActionSound = this.setPlayBadActionSound.bind(this);\n    this.setPlayNewRoundSound = this.setPlayNewRoundSound.bind(this);\n    this.setPlaySelectAnswer = this.setPlaySelectAnswer.bind(this);\n    this.setPlayChachingSound = this.setPlayChachingSound.bind(this);\n    this.setPlayDingSound = this.setPlayDingSound.bind(this);\n    this.setPlayMetalSound = this.setPlayMetalSound.bind(this);\n    this.setPlayTadaSound = this.setPlayTadaSound.bind(this);\n    this.setPlayChimesSound = this.setPlayChimesSound.bind(this);\n    this.setPlayWobbleSound = this.setPlayWobbleSound.bind(this);\n\n    this.setPlayTap = this.setPlayTap.bind(this);\n    this.donePreloading = this.donePreloading.bind(this);\n\n    this.publicImgsLoaded= false;\n    this.srcImgsLoaded= false;\n    this.soundsLoaded= false;\n  }\n\n  donePreloading(){\n    if(this.preloadTimeout){\n      window.clearTimeout(this.preloadTimeout);\n    }\n    if (this.preloadInterval) {\n      window.clearInterval(this.preloadInterval);\n    }\n    this.setState({isPreloading: false});\n    this.asyncLoadSounds();\n  }\n\n  preload() {\n    // let loadIncr = 1 / (this.allPublicImagesForPreload.length + this.backgroundSrc.length + this.soundsToPreload.length);\n    // 30s total timeout\n    const timeoutTime = 30000;\n    const intervalTime = 100;\n    const loadFracPerInterval = intervalTime / timeoutTime;\n\n    this.preloadInterval = window.setInterval(() => {\n      this.setState({percentLoaded: this.state.percentLoaded + loadFracPerInterval});\n    }, intervalTime)\n\n    this.preloadTimeout = window.setTimeout(() => {\n      console.log(\"preloading timed out! continuing..\");\n      this.setState({isPreloading: false});\n    }, timeoutTime);\n\n    // PUBLIC IMAGES\n    this.allPublicImagesForPreload.forEach(fullFilename => {\n      var img = new Image();\n      let filename = \"\";\n      if (fullFilename.indexOf(\"public\") !== -1) {\n        filename = fullFilename.slice(7);\n        filename = \"/ratchelor/\" + filename;\n      }\n      // Load image\n      img.src = filename;\n      img.onload = () => {\n        let fileIdx = this.allPublicImagesForPreload.indexOf(fullFilename);\n        if (fileIdx !== -1) {\n          this.allPublicImagesForPreload.splice(fileIdx, 1);\n        }\n        if (this.allPublicImagesForPreload.length === 0 && !this.state.publicImgsLoaded) {\n          console.log(\"all images loaded\");\n          this.publicImgsLoaded = true;\n          if(this.srcImgsLoaded && this.soundsLoaded && this.publicImgsLoaded){\n            this.donePreloading();\n          }\n        }\n      }\n    });\n\n    // PRELOADED SOUNDS\n    this.soundsToPreload.forEach(filename => {\n      // Load sound\n      var audio = new Audio(filename);\n      \n      audio.addEventListener(\"canplaythrough\", () => {\n        let fileIdx = this.soundsToPreload.indexOf(filename);\n        if (fileIdx !== -1) {\n          this.soundsToPreload.splice(fileIdx, 1);\n        }\n        if (this.soundsToPreload.length === 0) {\n          console.log(\"all sounds loaded\");\n          this.soundsLoaded = true;\n          if(this.srcImgsLoaded && this.soundsLoaded && this.publicImgsLoaded){\n            this.donePreloading();\n          }\n        }\n      });\n      audio.load();\n    })\n\n    // SRC BACKGROUNDS\n    backgroundSrc.forEach(filename => {\n      var img = new Image();\n      img.src = filename;\n\n      img.onload = () => {\n        let fileIdx = this.backgroundSrc.indexOf(filename);\n        if (fileIdx !== -1) {\n          this.backgroundSrc.splice(fileIdx, 1);\n        }\n        if (this.backgroundSrc.length === 0) {\n          console.log(\"all src images loaded\");\n          this.srcImgsLoaded = true;\n          if(this.srcImgsLoaded && this.soundsLoaded && this.publicImgsLoaded){\n            this.donePreloading();\n          }\n        }\n      }\n    })\n\n    \n\n  }\n\n  asyncLoadSounds(){\n    this.soundsToAsyncLoad.forEach(fullFilename => {\n      new Audio(fullFilename);\n    })\n  }\n\n  beginInterludeAndAdvanceState(text, delay, newGameStage) {\n    this.setState({ interludeText: text, curtainsClass: \"curtainsIn\" }, () => {\n      window.setTimeout(() => {\n          this.setState({ gameStage: newGameStage }, () => {\n            window.setTimeout(() => {\n              this.endInterlude();\n            }, delay);\n            }\n          );\n      }, ANIM_TIME); \n    });\n  }\n\n  endInterlude() {\n    this.setState({curtainsClass: \"curtainsOut\"});\n  }\n\n  setCallPlaySound(f) {\n    this.callPlaySound = f;\n  }\n\n  setPlayRoseSound(f){\n    this.playRoseSound = f;\n  }\n\n  setPlayChachingSound(f){\n    this.playChachingSound = f;\n  }\n\n  setPlayDingSound(f){\n    this.playDingSound = f;\n  }\n\n  setPlayMetalSound(f){\n    this.playMetalSound = f;\n  }\n\n  setPlayTadaSound(f){\n    this.playTadaSound = f;\n  }\n\n  setPlayChimesSound(f){\n    this.playChimesSound = f;\n  }\n\n  setPlayWobbleSound(f){\n    this.playWobbleSound = f;\n  }\n\n  setPlayCricketsSound(f){\n    this.playCricketsSound = f;\n  }\n\n  setPlayTromboneSound(f){\n    this.playTromboneSound = f;\n  }\n\n  setPlayHarpSound(f){\n    this.playHarpSound = f;\n  }\n\n  setPlayBadActionSound(f){\n    this.playBadActionSound = f;\n  }\n\n  setPlayNewRoundSound(f){\n    this.playNewRoundSound = f;\n  }\n\n  setPlaySelectAnswer(f){\n    this.playSelectAnswer = f;\n  }\n\n  setPlayTap(f){\n    this.playTap = f;\n  }\n\n  // Reset everything to restart the game\n  restartGame() {\n    console.log(\"restarting\");\n    this.setProposedInDatabase = false;\n    this.setState(\n      {\n        gameStage: INTRO,\n        roundNum: 0,\n        activeRatNames: [],\n        playerIdx: -1,\n      },\n      () => {\n        console.log(\"done!\");\n      }\n    );\n  }\n\n  changeCurrentRatIdx(idx) {\n    this.setState({\n      currentRatIdx: idx,\n    });\n  }\n\n  changePlayerIdx(idx) {\n    this.setState({\n      playerIdx: idx,\n    });\n  }\n\n  changeVolume(vol) {\n    this.setState({\n      volume: vol,\n    });\n  }\n\n  // Takes a string rat name and returns the Json object with additional details\n  getRatByName(name) {\n    for (let i = 0; i < ratsJson.length; i++) {\n      if (ratsJson[i].name === name) {\n        return ratsJson[i];\n      }\n    }\n  }\n\n  incrementTotalRatCount(ratName) {\n    this.database\n      .ref(\"/\")\n      .child(ratName)\n      .set(firebase.database.ServerValue.increment(1));\n  }\n\n  \n\n  componentDidMount() {\n    this.preload();\n    this.interludeElement = document.getElementById(\"interlude\");\n    var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === \"[object SafariRemoteNotification]\"; })(!window['safari'] || (typeof safari !== 'undefined' && window['safari'].pushNotification));\n    this.setState({isShowingSafariMsg: isSafari});\n    var isOnMobile =  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n    this.setState({isOnMobile});\n    if (isOnMobile) {\n      document.getElementById(\"not-on-mobile\").style.display = \"none\";\n    }\n    this.database = firebase.database();\n    this.randoRat = ratsJson[Math.floor(Math.random() * ratsJson.length)];\n  }\n\n  render() {\n    let screen = \"\";\n    let isPreloading = this.state.isPreloading;\n\n    //console.log(isPreloading)\n    \n    if (this.state.gameStage === INTRO) {\n      // Intro screen: advances to next stage when complete\n      screen = (\n        <IntroScreen\n          playSound={() => {\n            if (this.callPlaySound) {\n              this.callPlaySound(this.state.gameStage + 1);\n            }\n            if(this.playNewRoundSound){\n              this.playNewRoundSound()\n            }\n          }}\n          isPreloading={isPreloading}\n          percentLoaded={this.state.percentLoaded}\n          onClick={() => {\n            this.beginInterludeAndAdvanceState(\n              \"meet yourself\",\n              900,\n              PLAYER_SELECT\n            );\n          }}\n        />\n      );\n    } else if (this.state.gameStage === PLAYER_SELECT) {\n      screen = (\n        <CharacterSelect\n          changePlayerIdx={this.changePlayerIdx}\n          playerIdx={this.state.playerIdx}\n          playSelectAnswer={this.playSelectAnswer}\n          playTap={this.playTap}\n          onClick={() => {\n            this.beginInterludeAndAdvanceState(\n              \"meet your suitors\",\n              900,\n              RAT_SELECT\n            );\n            if(this.playNewRoundSound){\n              this.playNewRoundSound()\n            }\n          }}\n        />\n      );\n    } else if (this.state.gameStage === RAT_SELECT) {\n      // Rat select screen:\n      //    modifies the currently active rat names\n      //    advances to the next stage when complete\n      screen = (\n        <RatSelect\n          rats={ratsJson}\n          numRatsInGame={this.numRatsInGame}\n          playTap={this.playTap}\n          playSelectAnswer={this.playSelectAnswer}\n          playBadActionSound={this.playBadActionSound}\n          setActiveRatsAndAdvanceState={(selectedRats) => {\n            this.setState({ activeRatNames: selectedRats, beginningRatPool: selectedRats }, () => {\n              this.beginInterludeAndAdvanceState(\n                `chit chat`,\n                900,\n                TALKING_TO_RATS\n              );\n              if(this.playNewRoundSound){\n                this.playNewRoundSound()\n              }\n            });\n\n          }}\n        />\n      );\n    } else if (this.state.gameStage === TALKING_TO_RATS) {\n      // Talking to rats screen:\n      //    advances to the rose ceremony when done\n      screen = (\n        <TalkingToRats\n          activeRatNames={this.state.activeRatNames}\n          getRatByName={this.getRatByName}\n          round={this.state.roundNum}\n          startDelay={1000}\n          playSelectAnswer={this.playSelectAnswer}\n          playCricketsSound={this.playCricketsSound}\n          playTromboneSound={this.playTromboneSound}\n          playHarpSound={this.playHarpSound}\n          playChachingSound={this.playChachingSound}\n          playDingSound={this.playDingSound}\n          playMetalSound={this.playMetalSound}\n          playTadaSound={this.playTadaSound}\n          playChimesSound={this.playChimesSound}\n          playWobbleSound={this.playWobbleSound}\n          playerRatUrl={`/ratchelor/img/Player/${this.state.playerIdx}.png`}\n          goToRoseCeremony={() =>\n            {this.beginInterludeAndAdvanceState(\n              `who gets a rose?`,\n              900,\n              ROSE_CEREMONY\n            )\n            if(this.playNewRoundSound){\n              this.playNewRoundSound()\n            }\n          }\n            \n          }\n          changeCurrentRatIdx={this.changeCurrentRatIdx}\n        />\n      );\n    } else if (this.state.gameStage === ROSE_CEREMONY) {\n      // Rose ceremony screen:\n      //    either advances to the next talking round, or advances to the anime ending\n      //    modifies the currently active rat names\n      screen = (\n        <RoseCeremony\n          activeRatNames={this.state.activeRatNames}\n          getRatByName={this.getRatByName}\n          playRoseSound={this.playRoseSound}\n          playTap={this.playTap}\n          playSelectAnswer={this.playSelectAnswer}\n          playBadActionSound={this.playBadActionSound}\n          numRoses={this.rosesPerRound[this.state.roundNum]}\n          setActiveRatsAndAdvanceState={(selectedRats) => {\n            this.setState({ activeRatNames: selectedRats }, () => {\n              // Update the current round number\n              const newRoundNum = this.state.roundNum + 1;\n              // If that was the last round, advance to Anime\n              if (newRoundNum === this.numRounds) {\n                this.setState({ gameStage: PROPOSAL });\n                // Else, keep talking to rats\n              } else {\n                this.setState({ roundNum: newRoundNum }, () =>\n                {\n                  this.beginInterludeAndAdvanceState(\n                    `chit chat`,\n                    900,\n                    TALKING_TO_RATS\n                  );\n                  if(this.playNewRoundSound){\n                    this.playNewRoundSound()\n                  }\n                });\n              }\n            });\n          }}\n        />\n      );\n    } else if (this.state.gameStage === PROPOSAL) {\n      this.finalRat = this.getRatByName(this.state.activeRatNames[0]);\n      if(!this.setProposedInDatabase){\n        this.setProposedInDatabase = true;\n        this.incrementTotalRatCount(this.state.activeRatNames[0]);\n      }\n      screen = (\n        <Proposal\n          finalRat={this.finalRat}\n          playerRatUrl={`/ratchelor/img/Player/${this.state.playerIdx}_proposal.PNG`}\n          advanceState={() => {\n            this.setState({ gameStage: ANIME_ENDING });\n          }}\n        />\n      );\n    } else if (this.state.gameStage === ANIME_ENDING) {\n      // Anime ending screen:\n      //    allows game to be restarted\n      screen = (\n        <AnimeEnding\n          winningRat={this.finalRat}\n          epilogue={() => {\n            this.beginInterludeAndAdvanceState(\n              `where are they now?`,\n              900,\n              SPECIAL_ENDING\n            );\n            if(this.playNewRoundSound){\n              this.playNewRoundSound()\n            }\n          }}\n        />);\n\n    }else if (this.state.gameStage === SPECIAL_ENDING) {\n      // special ending screen:\n      //    allows game to be restarted\n\n      screen = \n        <SpecialEnding\n          finalRat={this.getRatByName(this.state.activeRatNames[0]).filename}\n          \n          restartGame={() => {\n            this.restartGame();\n          }}\n          getRatByName={(n) =>{\n            this.getRatByName(n);\n          }}\n         \n          beginningRatPool={this.state.beginningRatPool}\n        />\n   \n\n    }\n\n    let safariMsg = this.state.isShowingSafariMsg ? <div id=\"safari-container\"><div id=\"safari-msg\">This game has some issues in Safari, we recommend using Chrome or Firefox!</div><div id=\"safari-button\" onClick={()=>{this.setState({isShowingSafariMsg: false})}}>x</div></div> : \"\";\n    \n    if ( this.state.isOnMobile )\n     {\n      let randoRatFilename = \"\";\n      let randoRatName = \"\";\n      if (this.randoRat) {\n        randoRatFilename = this.randoRat.filename;\n        randoRatName = this.randoRat.name;\n      }\n      return (\n        <div id=\"mobile-container\">\n          <div id=\"mobile-message\">{`To experience The Ratchelor, ${randoRatName} wants you to access this website on a desktop computer!`}</div>\n          <img\n            id=\"mobile-img\"\n            alt=\"a rat who loves you\"\n            src={`/ratchelor/img/Characters/${randoRatFilename}.png`}\n          ></img>\n        </div>\n      );\n    }\n    return (\n      <div id={`game-container`} className={`preloading-${isPreloading}`}>\n\n        <div id=\"game\">\n          <img id=\"frame\" src=\"/ratchelor/img/frameSmaller.png\" alt=\"\"></img>\n          <div id=\"ratchelor2\">Stay tuned for The Ratchelor 2, coming this Valentine's Day! </div>\n\n          {safariMsg}\n\n          <div id=\"interludeContainer\" >\n            {/* <div id=\"interlude\" style={{ bottom: this.state.interludeBottom }}> */}\n            <div id=\"interlude\" className={`${this.state.curtainsClass}`}>\n              <div id=\"interludeText\">{this.state.interludeText}</div>\n            </div>\n            {screen}\n          </div>\n\n          <MusicManager\n            setCallPlaySound={this.setCallPlaySound}\n            phase={this.state.gameStage}\n            finalRat={this.finalRat}\n            currentRatIdx={this.state.currentRatIdx}\n            volume={this.state.volume}\n          />\n          <SoundEffectController\n           volume={this.state.volume}\n          setPlayRoseSound={this.setPlayRoseSound}\n          setPlayCricketsSound={this.setPlayCricketsSound}\n          setPlayBadActionSound={this.setPlayBadActionSound}\n          setPlayNewRoundSound={this.setPlayNewRoundSound}\n          setPlaySelectAnswer={this.setPlaySelectAnswer}\n          setPlayHarpSound={this.setPlayHarpSound}\n          setPlayTromboneSound={this.setPlayTromboneSound}\n          setPlayTap={this.setPlayTap}\n          setPlayChachingSound={this.setPlayChachingSound}\n          setPlayDingSound={this.setPlayDingSound}\n          setPlayMetalSound={this.setPlayMetalSound}\n          setPlayTadaSound={this.setPlayTadaSound}\n          setPlayChimesSound={this.setPlayChimesSound}\n          setPlayWobbleSound={this.setPlayWobbleSound}\n          />\n        </div>\n        <GameOptions\n          volume={this.state.volume}\n          changeVolume={this.changeVolume}\n        />\n        \n      </div>\n    );\n  }\n}\n\nexport {\n  INTRO,\n  PLAYER_SELECT,\n  RAT_SELECT,\n  TALKING_TO_RATS,\n  ROSE_CEREMONY,\n  ANIME_ENDING,\n  SPECIAL_ENDING,\n  PROPOSAL,\n};\nexport default RatchelorGame;\n","export default __webpack_public_path__ + \"static/media/beach.01747d96.png\";","export default __webpack_public_path__ + \"static/media/couch.b907630e.gif\";","export default __webpack_public_path__ + \"static/media/curtains.24cf2e49.png\";","export default __webpack_public_path__ + \"static/media/garden.1a22e2c2.png\";","export default __webpack_public_path__ + \"static/media/intro.21a4d50f.gif\";","export default __webpack_public_path__ + \"static/media/wallpaper.55d84b30.png\";","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}