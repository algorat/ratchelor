{"version":3,"sources":["components/IntroScreen.js","components/RatSelect.js","components/ReactionAnimation.js","components/TalkingToRats.js","components/RoseCeremony.js","components/AnimeEnding.js","sounds/Cheerful.mp3","sounds/Funky.mp3","sounds/Intense.mp3","sounds/Intro_Screen.mp3","sounds/Paris.mp3","sounds/Pop.mp3","sounds/Romantic_Happy.mp3","sounds/Romantic_Sad.mp3","sounds/Rose_Ceremony.mp3","sounds/Talking_To_Rat_1.mp3","sounds/Talking_To_Rat_2.mp3","sounds/Talking_To_Rat_3.mp3","sounds/Talking_To_Rat_4.mp3","components/MusicManager.js","sounds/rose3.wav","sounds/bad_action_sfx.wav","sounds/curtains.mp3","sounds/louder_tap.mp3","sounds/crickets.mp3","sounds/harp.mp3","sounds/trombone.mp3","components/SoundEffectController.js","img/icons/volume_0.png","components/GameOptions.js","img/icons/volume_mute.png","img/icons/volume_1.png","img/icons/volume_2.png","img/icons/volume_3.png","components/CharacterSelect.js","components/Proposal.js","img/Backgrounds/background2.png","img/Backgrounds/curtains.png","img/Backgrounds/Intro2.png","img/Backgrounds/couchslower.gif","App.js","img/Backgrounds/garden2.png","img/RoseCeremony/Background-old.png","index.js"],"names":["IntroScreen","props","state","opacity","loadingText","onClick","bind","this","fadeInterval","window","setInterval","clearInterval","setState","button","ref","b","addEventListener","playSound","loader","percentLoadedText","Math","floor","percentLoaded","id","className","isPreloading","style","React","Component","RatSelect","onClickSelectRats","setActiveRats","selectedRats","advanceState","selectRatsButton","document","getElementById","classList","remove","numRatsInGame","length","add","generateRatList","ratsList","i","filename","rats","filenameHearts","push","selectRat","name","src","alt","tagline","ratName","element","indexOf","playTap","index","newSelectedRats","splice","multiContestantsLeft","oneContestantLeft","noContestantsLeft","playBadActionSound","ReactionAnimation","left","top","Array","fill","emote","map","val","idx","OFF_BOTTOM","TalkingToRats","ratNames","activeRatNames","sort","a","random","activeRats","getRatByName","responses","responsesJson","console","log","charSpeed","ratMoveSpeed","ratIndex","charsRevealed","ratLeft","ratTop","dialogueBottom","incr","reacting","lastActiveRat","currReaction","setTimeout","sendRatIn","startDelay","ratMoveInInterval","ratMoveOutInterval","textInterval","reactionTimeout","clearTimeout","reaction","playHarpSound","playTromboneSound","playCricketsSound","sendRatOut","getRandomResponses","startTextMoving","setNextRat","dialogue","round","newRatIndex","goToRoseCeremony","changeCurrentRatIdx","startReaction","responseText","response","responseDiv","submitResponse","ratDialogue","substring","playerRatUrl","reaction_pos","bottom","RoseCeremony","numRoses","backRowRats","frontRowRats","giveRosesButton","instructions","middleRowClass","allRatsSelectedClass","lastRoundClass","backRowNames","frontRowNames","backRowSize","frontRowSize","bearIndex","miggIndex","largoIndex","currName","reverse","ratsLeft","updateInstructions","finalRat","endRoseCeremony","backRatsList","roseFilename","size","frontRatsList","bouquetNum","AnimeEnding","winningRat","restartGame","TalkingMusic","Talking1","Talking2","Talking3","Talking4","Endings","CHEERFUL","Cheerful","FUNKY","Funky","INTENSE","Intense","PARIS","Paris","POP","Pop","ROMANTICHAPPY","RomanticHappy","ROMANTICSAD","RomanticSad","MusicManager","selectURL","url","phase","setCallPlaySound","volume","currentRatIdx","musicStarted","needToRender","newurl","newvolume","setVolume","vol","rap","playPromise","play","undefined","then","_","catch","e","RAT_SELECT","PLAYER_SELECT","TALKING_TO_RATS","ROSE_CEREMONY","ANIME_ENDING","ending","PROPOSAL","loop","SoundEffectController","playRoseSound","playNewRoundSound","playSelectAnswer","setPlayRoseSound","setPlayBadActionSound","setPlayTap","setPlayCricketsSound","setPlayHarpSound","setPlayTromboneSound","setPlaySelectAnswer","setPlayNewRoundSound","crickets","trombone","harp","assignRose","badAction","newRound","selectAnswer","tap","GameOptions","soundurl","prog","soundLogo0","changeVolume","min","max","type","value","onChange","evt","parseInt","target","backgroundImage","CharacterImg","selected","CharacterSelect","ratSelected","transform","buttonArea","display","playerIdx","changePlayerIdx","Proposal","opacityInterval","backgroundSrc","bg0","bg1","bg2","bg3","bg6","soundsToPreload","s2","s3","s5","s6","s7","s11","s1","soundsToAsyncLoad","s17","s18","s19","s20","s16","s8","s9","s10","s12","s13","s14","s15","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","RatchelorGame","numRounds","setProposedInDatabase","rosesPerRound","allPublicImagesForPreload","gameStage","roundNum","interludeText","interludeBottom","ratsJson","donePreloading","publicImgsLoaded","srcImgsLoaded","soundsLoaded","preloadTimeout","asyncLoadSounds","loadIncr","forEach","fullFilename","img","Image","slice","onload","fileIdx","audio","Audio","load","text","delay","newGameStage","startInterludeInterval","endInterlude","endInterludeInterval","f","callPlaySound","database","child","set","ServerValue","increment","preload","interludeElement","screen","beginInterludeAndAdvanceState","newRoundNum","incrementTotalRatCount","test","navigator","userAgent","randoRat","randoRatFilename","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.165cf853.chunk.js","sourcesContent":["import React from \"react\";\n\nclass IntroScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      opacity: 1,\n      loadingText: \"Loading\",\n    };\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick() {\n    this.fadeInterval = window.setInterval(() => {\n      let opacity = this.state.opacity - 0.01;\n      if (opacity <= 0) {\n        this.props.onClick();\n        window.clearInterval(this.fadeInterval);\n      } else {\n        this.setState({ opacity });\n      }\n    }, 5);\n  }\n\n  render() {\n    let button = <button\n      ref={(b) => {\n        if (b) {\n          b.addEventListener(\"click\", () => {\n            this.props.playSound();\n          });\n        }\n      }}\n      onClick={this.onClick}\n    >\n      Embark\n    </button>\n\n    let loader = <div id=\"loadingText\">{this.state.loadingText}</div>\n    let percentLoadedText = Math.floor(this.props.percentLoaded * 100);\n    loader = <div id=\"loadingText\">Loading {percentLoadedText}%</div>\n\n    return (\n      <div\n        id=\"introScreen\"\n        className={`screen loading-${this.props.isPreloading}`}\n        style={{ opacity: this.state.opacity }}\n      >\n        {this.props.isPreloading ? loader : button}\n        <div id=\"hideme\" />\n      </div>\n    );\n  }\n}\n\nexport default IntroScreen;\n","import React from \"react\";\n\nclass RatSelect extends React.Component {\n  constructor() {\n    super();\n\n    // Once you've select the rats, advance to the next stage\n    this.onClickSelectRats = () => {\n      this.props.setActiveRats(this.state.selectedRats);\n      this.props.advanceState();\n    };\n\n    this.state = {\n      selectedRats: [],\n      selectRatsButton: <div id=\"chooseText\">Select your 7 contestants</div>,\n    };\n  }\n\n  noContestantsLeft() {\n    let selectRatsButton = (\n      <div id=\"chooseText\">\n        <button onClick={() => {this.onClickSelectRats();}}>Continue</button>\n      </div>\n    );\n    this.setState({ selectRatsButton });\n    document.getElementById(\"ratListContainer\").classList.remove(\"stillRats\");\n  }\n\n  oneContestantLeft() {\n    let selectRatsButton = (\n      <div id=\"chooseText\">{`Select ${\n        this.props.numRatsInGame - this.state.selectedRats.length\n      } more contestant`}</div>\n    );\n    this.setState({ selectRatsButton });\n    document.getElementById(\"ratListContainer\").classList.add(\"stillRats\");\n  }\n\n  multiContestantsLeft() {\n    let selectRatsButton = (\n      <div id=\"chooseText\">{`Select ${\n        this.props.numRatsInGame - this.state.selectedRats.length\n      } more contestants`}</div>\n    );\n    this.setState({ selectRatsButton });\n  }\n\n  componentDidMount() {\n    this.generateRatList();\n  }\n\n  generateRatList() {\n    let ratsList = [];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.props.rats.length; i++) {\n      let filename = `/ratchelor/img/Frames/${this.props.rats[i].filename}.PNG`;\n      let filenameHearts = `/ratchelor/img/Frames/hearts${(i % 9) + 1}.PNG`;\n      ratsList.push(\n        <div key={i} id=\"ratContainer\">\n          <div\n            id={`rat${i}`}\n            className=\"ratListItem\"\n            onClick={() => {\n              this.selectRat(this.props.rats[i].name, `rat${i}`);\n            }}\n          >\n            <div className=\"ratPic\">\n              <img className=\"ratFrame\" src={filename} alt=\"\" />\n              <img className=\"ratHearts\" src={filenameHearts} alt=\"\" />\n            </div>\n            <div className=\"ratNameContainer\">\n              <div className=\"ratName\">{`${this.props.rats[i].name}`}</div>\n              <div className=\"ratTagline\">{`\"${this.props.rats[i].tagline}\"`}</div>\n            </div>\n          </div>\n        </div>\n      );\n      this.ratsList = ratsList;\n    }\n\n \n    return ratsList;\n  }\n\n  // When a rat is clicked\n  selectRat(ratName, id) {\n    // Get the element for the current rat button\n    const element = document.getElementById(id);\n\n    // If it's already chosen, deselect it\n    if (this.state.selectedRats.indexOf(ratName) !== -1) {\n      this.props.playTap();\n      const index = this.state.selectedRats.indexOf(ratName);\n      const newSelectedRats = this.state.selectedRats;\n      newSelectedRats.splice(index, 1);\n      this.setState({ selectedRats: newSelectedRats });\n      element.classList.remove(\"selectedRat\");\n      if (this.state.selectedRats.length !== this.props.numRatsInGame - 1) {\n        this.multiContestantsLeft();\n      } else {\n        this.oneContestantLeft();\n      }\n      return;\n    }\n\n    // If you've already selected the max rats, you can't select another\n    if (this.state.selectedRats.length === this.props.numRatsInGame) {\n      this.props.playBadActionSound();\n      return;\n    }\n\n    // Otherwise, select this rat\n    let newSelectedRats = this.state.selectedRats;\n    newSelectedRats.push(ratName);\n    element.classList.add(\"selectedRat\");\n\n    this.props.playTap();\n\n    // If that was the final rat, display the advance button\n    if (this.state.selectedRats.length === this.props.numRatsInGame) {\n      this.noContestantsLeft();\n    } else if (\n      this.state.selectedRats.length !==\n      this.props.numRatsInGame - 1\n    ) {\n      this.multiContestantsLeft();\n    } else {\n      this.oneContestantLeft();\n    }\n\n    // Force a UI update for the rat list\n\n    this.setState({});\n  }\n\n  render() {\n    \n\n    return (\n      <div id=\"ratSelectScreen\" className=\"screen\">\n        {this.state.selectRatsButton}\n        <div id=\"ratListContainer\" className=\"stillRats\">\n          {this.ratsList}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RatSelect;\n","import React from \"react\";\n\nclass ReactionAnimation extends React.Component {\n\n  render() {\n    return (\n      <div className=\"reaction-animation\" style={{left: `${this.props.left}%`, top: this.props.top + \"%\"}}>\n        {Array(5)\n          .fill(this.props.emote)\n          .map((val, idx) => (\n            <div key={\"reaction-emote-\" + (idx + 1)} \n            className={\"reaction-emote reaction-emote-\" + (idx + 1)}>\n              {val}\n            </div>\n          ))}\n      </div>\n    );\n  }\n}\n\nexport default ReactionAnimation;\n","import React from \"react\";\nimport ReactionAnimation from './ReactionAnimation'\nimport responsesJson from \"../responses.json\";\n\nconst OFF_LEFT = -550;\nconst OFF_BOTTOM = -400;\nconst ON_BOTTOM = 25;\nclass TalkingToRats extends React.Component {\n  constructor(props) {\n    super(props);\n    // Randomly shuffle the rats for this round\n    this.ratNames = props.activeRatNames.sort(function (a, b) {\n      return 0.5 - Math.random();\n    });\n    // Get all of the round's rats based on their names\n    this.activeRats = this.ratNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    // Store all of your canned responses in an array\n    this.responses = responsesJson;\n    console.log(this.props)\n    this.charSpeed = 30;\n    this.ratMoveSpeed = 10;\n    this.state = {\n      ratIndex: 0,\n      charsRevealed: 0,\n      responses: [],\n      ratLeft: OFF_LEFT,\n      ratTop: 0,\n      dialogueBottom: OFF_BOTTOM,\n      incr: 1,\n      reacting: false,\n      lastActiveRat: -1,\n      currReaction: null,\n    };\n  }\n\n  componentDidMount() {\n    window.setTimeout(() => {\n      this.sendRatIn();\n    }, this.props.startDelay);\n  }\n\n  componentWillUnmount() {\n    if (this.ratMoveInInterval !== null) {\n      window.clearInterval(this.ratMoveOutInterval);\n    }\n    if (this.ratMoveOutInterval !== null) {\n      window.clearInterval(this.ratMoveOutInterval);\n    }\n    if (this.textInterval !== null) {\n      window.clearInterval(this.textInterval);\n    }\n\n    if (this.reactionTimeout !== null) {\n      window.clearTimeout(this.reactionTimeout);\n    }\n  }\n\n  startReaction(reaction){\n    let currReaction = null;\n    if (reaction === \"LOVE\") {\n      currReaction = \"love2\";\n      this.props.playHarpSound();\n    }\n    if (reaction === \"SAD\") {\n      this.props.playTromboneSound();\n      currReaction = \"bad1\";\n    }\n    if (reaction === \"NEUTRAL\") {\n      currReaction = \"neutra1\";\n      this.props.playCricketsSound();\n    }\n    if (!currReaction) {\n      this.sendRatOut();\n      return;\n    }\n    this.setState({ responses: \"\", incr: 1, reacting: true, currReaction: currReaction, lastActiveRat: this.state.ratIndex });\n    this.reactionTimeout = window.setTimeout(() => this.sendRatOut(), 1500)\n  }\n\n  sendRatIn() {\n    this.getRandomResponses();\n    this.setState({ incr: 25 });\n    window.clearTimeout(this.reactionTimeout);\n    window.clearInterval(this.ratMoveOutInterval);\n    this.ratMoveInInterval = window.setInterval(() => {\n      if (this.state.ratLeft < 0) {\n        this.setState({ ratLeft: this.state.ratLeft + this.state.incr });\n        if (this.state.dialogueBottom < 0) {\n          let dialogueBottom = this.state.dialogueBottom + this.state.incr;\n          if (dialogueBottom > 0) dialogueBottom = 0;\n          this.setState({ incr: this.state.incr * 0.95 });\n          this.setState({ dialogueBottom });\n        }\n      } else {\n        window.clearInterval(this.ratMoveInInterval);\n        this.startTextMoving();\n      }\n    }, this.ratMoveSpeed);\n  }\n\n  sendRatOut() {\n    window.clearInterval(this.ratMoveInInterval);\n    window.clearTimeout(this.reactionTimeout);\n    this.ratMoveOutInterval = window.setInterval(() => {\n      if (this.state.ratLeft > OFF_LEFT) {\n        this.setState({ ratLeft: this.state.ratLeft - this.state.incr });\n        if (this.state.dialogueBottom > OFF_BOTTOM) {\n          let dialogueBottom = this.state.dialogueBottom - this.state.incr;\n          if (dialogueBottom < OFF_BOTTOM) dialogueBottom = OFF_BOTTOM;\n          this.setState({ dialogueBottom });\n          this.setState({ incr: this.state.incr * 1.05 });\n        }\n      } else {\n        window.clearInterval(this.ratMoveOutInterval);\n        this.setState({ reacting: false });\n        this.setState({ charsRevealed: 0 });\n        this.setNextRat();\n      }\n    }, this.ratMoveSpeed);\n  }\n\n  startTextMoving() {\n    this.setState({ charsRevealed: 0 });\n    this.textInterval = window.setInterval(() => {\n      let charsRevealed = this.state.charsRevealed + 1;\n      if (\n        charsRevealed >\n        this.activeRats[this.state.ratIndex].dialogue[this.props.round].length\n      ) {\n        window.clearInterval(this.textInterval);\n      } else {\n        this.setState({ charsRevealed });\n      }\n    }, this.charSpeed);\n  }\n\n  setNextRat() {\n    let newRatIndex = this.state.ratIndex + 1;\n    this.setState({currReaction: null});\n    // If that was the last rat, advance to the rose ceremony\n    if (newRatIndex === this.ratNames.length) {\n      this.props.goToRoseCeremony();\n    } else {\n      this.setState({ ratIndex: newRatIndex });\n      this.props.changeCurrentRatIdx(newRatIndex);\n      this.sendRatIn();\n    }\n  }\n\n  // After you submit your response, choose a new rat\n  submitResponse(reaction) {\n    // console.log(reaction);\n    window.clearInterval(this.textInterval);\n    this.startReaction(reaction);\n  }\n\n  getRandomResponses() {\n    // Make sure we get random, different responses\n    const numResponses = 3;\n    // Shuffle all responses\n    responsesJson.sort(() => 0.5 - Math.random());\n    let responses = [];\n    // Choose the first n\n    for (let i = 0; i < numResponses; i++) {\n      let responseText = responsesJson[i].response;\n      let reaction = responsesJson[i].reaction;\n      let responseDiv = (\n        <button onClick={\n          () => {this.submitResponse.bind(this)(reaction);}\n          } key={i}>\n          {responseText}\n        </button>\n      );\n      responses.push(responseDiv);\n    }\n    this.setState({ responses });\n  }\n\n  // You get a random rat, they talk to you, you can respond, after you respond another rat shows up\n  render() {\n    let ratDialogue = this.activeRats[this.state.ratIndex].dialogue[\n      this.props.round\n    ].substring(0, this.state.charsRevealed);\n    if (this.state.currReaction) {\n      ratDialogue = <img id=\"dialogueImg\" alt=\"dialogue emoji\" src={`/ratchelor/img/Reactions/reax/${this.state.currReaction}.PNG`}></img>\n    }\n    if (ratDialogue.length === 0) ratDialogue = \"...\";\n    return (\n      <div id=\"talkingToRatsScreen\" className=\"screen\">\n        <img\n          id=\"playerRat\"\n          alt=\"you as a rat, on the couch\"\n          src={this.props.playerRatUrl}\n        ></img>\n        <div id=\"talkingRatContainer\">\n        <img\n          id=\"talkingRat\"\n          alt=\"a rat on the couch who is talking to you\"\n          style={{\n            left: `${this.state.ratLeft}px`,\n            top: `${this.state.ratTop}px`,\n          }}\n          src={`/ratchelor/img/Couch/${\n            this.activeRats[this.state.ratIndex].filename\n          }.png`}\n        ></img>\n        { this.state.reacting && this.state.currReaction &&\n          <ReactionAnimation \n            emote={<img alt=\"\" src={`/ratchelor/img/Reactions/reax/${this.state.currReaction}.PNG`}/>}\n            left={this.activeRats[this.state.lastActiveRat].reaction_pos[0] * 100}\n            top={this.activeRats[this.state.lastActiveRat].reaction_pos[1] * 100}\n          />}\n        </div>\n        <div\n          id=\"dialogueContainer\"\n          style={{ bottom: `${this.state.dialogueBottom}px` }}\n        >\n          <div id=\"ratName\">{this.activeRats[this.state.ratIndex].name}</div>\n          <div id=\"ratDialogue\">{ratDialogue}</div>\n        </div>\n        <div\n          id=\"responses\"\n          style={{ bottom: `${this.state.dialogueBottom + ON_BOTTOM}px` }}\n        >\n          {this.state.responses}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TalkingToRats;\n","import React from \"react\";\n\nclass RoseCeremony extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // How many roses you have to give out\n    this.numRoses = this.props.numRoses;\n\n    this.activeRats = [];\n    this.backRowRats = [];\n    this.frontRowRats = [];\n\n    this.state = {\n      selectedRats: [],\n      giveRosesButton: \"\",\n      instructions: `Choose ${this.props.numRoses} contestants to continue`,\n      middleRowClass: \"\",\n      allRatsSelectedClass: \"notAllRatsSelected\",\n      lastRoundClass: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.numRoses === 1) {\n      this.setState({ instructions: `Choose your soulmate`, lastRoundClass:\"lastRound\" });\n\n    }\n    // Randomly shuffle the rats for this round\n    this.ratNames = this.props.activeRatNames.sort(function (a, b) {\n      return 0.5 - Math.random();\n    });\n\n    let backRowNames = [];\n    let frontRowNames = [];\n\n    let backRowSize = 0;\n    let frontRowSize = 0;\n\n    // Get the number of rats per row\n    if (this.ratNames.length === 7) {\n      backRowSize = 4;\n      frontRowSize = 3;\n    } else if (this.ratNames.length === 6) {\n      backRowSize = 3;\n      frontRowSize = 3;\n    } else if (this.ratNames.length === 5) {\n      backRowSize = 3;\n      frontRowSize = 2;\n    } else {\n      backRowSize = this.ratNames.length;\n      this.setState({ middleRowClass: \"middleRow\" });\n    }\n\n    // Find our special sized rats\n    let bearIndex = this.ratNames.indexOf(\"Bear\");\n    let miggIndex = this.ratNames.indexOf(\"Migg Mouse\");\n    let largoIndex = this.ratNames.indexOf(\"Largothon\");\n\n    // Put bear first\n    if (bearIndex !== -1) {\n      if (backRowSize > 0) {\n        backRowNames.push(\"Bear\");\n      } else {\n        frontRowNames.push(\"Bear\");\n      }\n    }\n\n    // Put largo next\n    if (largoIndex !== -1) {\n      if (backRowSize > 0) {\n        backRowNames.push(\"Largothon\");\n      } else {\n        frontRowNames.push(\"Largothon\");\n      }\n    }\n\n    // Put Migg next\n    if (miggIndex !== -1) {\n      if (frontRowSize > 0) {\n        frontRowNames.push(\"Migg Mouse\");\n      } else {\n        backRowNames.push(\"Migg Mouse\");\n      }\n    }\n\n    // Put in the rest of the names\n    for (let i = 0; i < this.ratNames.length; i++) {\n      let currName = this.ratNames[i];\n      if (\n        !(\n          currName === \"Migg Mouse\" ||\n          currName === \"Largothon\" ||\n          currName === \"Bear\"\n        )\n      ) {\n        // Fill up the rows according to the number of contestants\n        if (backRowNames.length === backRowSize) {\n          frontRowNames.push(currName);\n        } else {\n          backRowNames.push(currName);\n        }\n      }\n    }\n\n    // Reverse the rows\n    frontRowNames.reverse();\n    backRowNames.reverse();\n\n    // Get all of the round's rats based on their names\n    this.activeRats = this.ratNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    this.frontRowRats = frontRowNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    this.backRowRats = backRowNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n  }\n\n  updateInstructions() {\n    this.setState({ allRatsSelectedClass: \"\" });\n    let ratsLeft = this.props.numRoses - this.state.selectedRats.length;\n    if (ratsLeft > 1) {\n      this.setState({ instructions: `Choose ${ratsLeft} more contestants` });\n    } else {\n      this.setState({ instructions: `Choose ${ratsLeft} more contestant` });\n    }\n  }\n\n  // When a rat is clicked\n  selectRat(ratName, id) {\n    // Get the element for the current rat button\n    const element = document.getElementById(id);\n\n    // If it's already chosen, deselect it\n    if (this.state.selectedRats.indexOf(ratName) !== -1) {\n      const index = this.state.selectedRats.indexOf(ratName);\n      const newSelectedRats = this.state.selectedRats;\n      newSelectedRats.splice(index, 1);\n      this.props.playTap();\n      this.setState({ selectedRats: newSelectedRats });\n      element.classList.remove(\"selectedRat\");\n      this.updateInstructions();\n      return;\n    }\n\n    // If you've already selected the max rats, you can't select another\n    if (this.state.selectedRats.length === this.numRoses) {\n      this.props.playBadActionSound();\n      return;\n    }\n\n    // Otherwise, select this rat\n    let newSelectedRats = this.state.selectedRats;\n    newSelectedRats.push(ratName);\n    element.classList.add(\"selectedRat\");\n    this.props.playTap();\n\n    // If that was the final rat, display the advance button\n    if (this.state.selectedRats.length === this.numRoses) {\n      let giveRosesButton;\n      if (this.numRoses === 1) {\n        this.finalRat = this.props.getRatByName(this.state.selectedRats[0]);\n        giveRosesButton = (\n          <button onClick={this.endRoseCeremony.bind(this)}>\n            Propose to {this.state.selectedRats[0]}\n          </button>\n        );\n      } else {\n        giveRosesButton = (\n          <button onClick={this.endRoseCeremony.bind(this)}>\n            Continue Finding Love\n          </button>\n        );\n      }\n      this.setState({ instructions: giveRosesButton });\n      this.setState({ allRatsSelectedClass: \"allRatsSelected\" });\n    } else {\n      this.updateInstructions();\n    }\n\n    // Force a UI update for the rat list\n    this.setState({});\n  }\n\n  endRoseCeremony() {\n    this.props.setActiveRats(this.state.selectedRats);\n    this.props.advanceState();\n  }\n\n  render() {\n    let backRatsList = [];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.backRowRats.length; i++) {\n      let filename = `/ratchelor/img/Characters/${this.backRowRats[i].filename}.png`;\n      let roseFilename = `/ratchelor/img/Characters/roses/${this.backRowRats[i].filename}.png`;\n      backRatsList.push(\n        \n        <div\n          key={i}\n          id={`rat${i}`}\n          className={`ratList`}\n          onClick={() => {\n            this.selectRat(this.backRowRats[i].name, `rat${i}`);\n          }}\n        >\n          <div className={`${this.state.allRatsSelectedClass}`}>\n          {/* {`${this.backRowRats[i].name}`} */}\n          <img\n            className={`ratPic  ${this.backRowRats[i].size}`}\n            src={filename}\n            alt=\"a rat waiting for you to make a decision\"\n          />\n           <img\n            className={`ratPic ratWithRosePic  ${this.backRowRats[i].size}`}\n            src={roseFilename}\n            alt=\"a rat waiting for you to make a decision\"\n          />\n          <div className=\"hoverText\" alt=\"info about the rat\">\n            {this.backRowRats[i].name}\n          </div></div>\n        </div>\n      );\n    }\n    let frontRatsList = [];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.frontRowRats.length; i++) {\n      let filename = `/ratchelor/img/Characters/${this.frontRowRats[i].filename}.png`;\n      let roseFilename = `/ratchelor/img/Characters/roses/${this.frontRowRats[i].filename}.png`;\n\n      frontRatsList.push(\n        <div\n          key={i}\n          id={`rat${this.backRowRats.length + i}`}\n          className={`ratList`}\n          onClick={() => {\n            this.selectRat(\n              this.frontRowRats[i].name,\n              `rat${this.backRowRats.length + i}`\n            );\n          }}\n        >\n           <div className={`${this.state.allRatsSelectedClass}`}>\n          {/* {`${this.frontRowRats[i].name}`} */}\n          <img\n            className={`ratPic ${this.frontRowRats[i].size}`}\n            src={filename}\n            alt=\"a rat waiting for you to make a decision\"\n          />\n          <img\n            className={`ratPic ratWithRosePic ${this.frontRowRats[i].size}`}\n            src={roseFilename}\n            alt=\"a rat waiting for you to make a decision\"\n          />\n          <div className=\"hoverText\" alt=\"info about the rat\">\n            {this.frontRowRats[i].name}\n          </div>\n          </div>\n        </div>\n      );\n    }\n\n    let bouquetNum = this.props.numRoses - this.state.selectedRats.length;\n    if (!bouquetNum || bouquetNum < 0 || bouquetNum > 5) bouquetNum = 0;\n\n    return (\n      <div id=\"roseCeremonyScreen\" className={`screen ${this.state.lastRoundClass}`}>\n        <img\n          alt=\"a rose bouquet\"\n          id=\"bouquet\"\n          src={`/ratchelor/img/Bouquet/bouquet${bouquetNum}.png`}\n        ></img>\n        <div id=\"instructions\">{this.state.instructions}</div>\n        <div id=\"ratListContainer\">\n          <div id=\"backRow\" className={`${this.state.middleRowClass}`}>\n            {backRatsList}\n          </div>\n          <div id=\"frontRow\">{frontRatsList}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RoseCeremony;\n","import React from \"react\";\n\nclass AnimeEnding extends React.Component {\n  render() {\n    return (\n      <div id=\"animeEndingScreen\" className=\"screen\">\n        <img\n          id=\"animePic\"\n          src={`/ratchelor/img/Anime/${this.props.winningRat.filename}.jpg`}\n          alt=\"your chosen rat looking adoringly at you\"\n        ></img>\n        <div id=\"animeText\">\n          {\" \"}\n          {\n            this.props.winningRat.dialogue[\n              this.props.winningRat.dialogue.length - 1\n            ]\n          }\n        </div>\n        <button id=\"restartButton\" onClick={this.props.restartGame}>\n          Restart?\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default AnimeEnding;\n","export default __webpack_public_path__ + \"static/media/Cheerful.d940b0ce.mp3\";","export default __webpack_public_path__ + \"static/media/Funky.a0bb99de.mp3\";","export default __webpack_public_path__ + \"static/media/Intense.557a862d.mp3\";","export default __webpack_public_path__ + \"static/media/Intro_Screen.0e89e7f0.mp3\";","export default __webpack_public_path__ + \"static/media/Paris.03b97a6d.mp3\";","export default __webpack_public_path__ + \"static/media/Pop.0f90351b.mp3\";","export default __webpack_public_path__ + \"static/media/Romantic_Happy.36d11f79.mp3\";","export default __webpack_public_path__ + \"static/media/Romantic_Sad.5b6aab94.mp3\";","export default __webpack_public_path__ + \"static/media/Rose_Ceremony.32898cb5.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_1.b359ab59.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_2.fcfc13d8.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_3.fbf0c31f.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_4.e49c91ea.mp3\";","import React from \"react\";\n\nimport Cheerful from \"../sounds/Cheerful.mp3\";\nimport Funky from \"../sounds/Funky.mp3\";\nimport Intense from \"../sounds/Intense.mp3\";\nimport IntroScreen from \"../sounds/Intro_Screen.mp3\";\nimport Paris from \"../sounds/Paris.mp3\";\nimport Pop from \"../sounds/Pop.mp3\";\nimport RomanticHappy from \"../sounds/Romantic_Happy.mp3\";\nimport RomanticSad from \"../sounds/Romantic_Sad.mp3\";\nimport RoseCeremony from \"../sounds/Rose_Ceremony.mp3\";\nimport Talking1 from \"../sounds/Talking_To_Rat_1.mp3\";\nimport Talking2 from \"../sounds/Talking_To_Rat_2.mp3\";\nimport Talking3 from \"../sounds/Talking_To_Rat_3.mp3\";\nimport Talking4 from \"../sounds/Talking_To_Rat_4.mp3\";\nimport {\n  RAT_SELECT,\n  PLAYER_SELECT,\n  TALKING_TO_RATS,\n  ROSE_CEREMONY,\n  ANIME_ENDING,\n  PROPOSAL,\n} from \"../App\";\n\nconst TalkingMusic = [Talking1, Talking2, Talking3, Talking4];\nconst Endings = {\n  CHEERFUL: Cheerful,\n  FUNKY: Funky,\n  INTENSE: Intense,\n  PARIS: Paris,\n  POP: Pop,\n  ROMANTICHAPPY: RomanticHappy,\n  ROMANTICSAD: RomanticSad,\n};\n\nclass MusicManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.selectURL = this.selectURL.bind(this);\n    this.url = this.selectURL(this.props.phase);\n    this.playSound = this.playSound.bind(this);\n    this.props.setCallPlaySound(this.playSound);\n    this.volume = props.volume / 100 - 0.08;\n    this.volume = this.volume < 0 ? 0 : this.volume;\n    this.finalRat = null;\n    this.currentRatIdx = -1;\n    this.musicStarted = false;\n  }\n\n  shouldComponentUpdate(props) {\n\n    if (this.props.phase < 1 && !this.musicStarted) {\n      return false;\n    }\n\n    let needToRender = false;\n    let newurl = this.selectURL(props.phase);\n\n    if (newurl !== this.url) {\n      this.url = newurl;\n      needToRender = true;\n    }\n\n    let newvolume = props.volume / 100 - 0.08;\n    newvolume = newvolume < 0 ? 0 : newvolume;\n\n    if (this.volume !== newvolume) {\n      this.volume = newvolume;\n      this.setVolume(this.volume);\n    }\n    if (this.finalRat !== props.finalRat) {\n      this.finalRat = props.finalRat;\n      needToRender = true;\n    }\n    if (this.currentRatIdx !== props.currentRatIdx) {\n      this.currentRatIdx = props.currentRatIdx;\n      needToRender = true;\n    }\n\n    if (!this.musicStarted || needToRender) {\n      this.playSound(this.phase);\n    }\n\n    return false;\n  }\n\n  setVolume(vol) {\n    console.log(vol);\n    if (this.rap) {\n      this.rap.volume = vol;\n    }\n  }\n\n  playSound() {\n    if (\n      !this.musicStarted ||\n      (this.url !== \"\" && this.rap && this.rap.src.indexOf(this.url) < 0)\n    ) {\n      this.rap.src = this.url;\n      this.rap.volume = this.volume;\n      this.rap.addEventListener('canplaythrough', () => {\n        var playPromise = this.rap.play();\n        this.musicStarted = true;\n        if (playPromise !== undefined) {\n          playPromise.then((_) => {}).catch((e)=>{console.log(\"error caught\", e)});\n        }\n      })   \n    }\n  }\n\n  selectURL(phase) {\n    let url = IntroScreen;\n    switch (phase) {\n      case RAT_SELECT:\n        url = IntroScreen;\n        break;\n      case PLAYER_SELECT:\n        url = IntroScreen;\n        break;\n      case TALKING_TO_RATS:\n        url = TalkingMusic[this.currentRatIdx % TalkingMusic.length];\n        break;\n      case ROSE_CEREMONY:\n        url = RoseCeremony;\n        break;\n      case ANIME_ENDING:\n        url = Endings[this.finalRat.ending];\n        break;\n      case PROPOSAL:\n        url = Endings[this.props.finalRat.ending];\n        break;\n      default:\n        url = IntroScreen;\n    }\n    return url;\n  }\n\n  render() {\n    this.url = this.selectURL(this.props.phase);\n    return (\n      <audio\n        src={this.url}\n        ref={(element) => {\n          this.rap = element;\n        }}\n        loop\n        volume={this.props.phase < 2 ? 0 : this.volume}\n      />\n    );\n  }\n}\n\nexport default MusicManager;\n","export default __webpack_public_path__ + \"static/media/rose3.691f932e.wav\";","export default __webpack_public_path__ + \"static/media/bad_action_sfx.63f0b124.wav\";","export default __webpack_public_path__ + \"static/media/curtains.575f420c.mp3\";","export default __webpack_public_path__ + \"static/media/louder_tap.0bf104bc.mp3\";","export default __webpack_public_path__ + \"static/media/crickets.542a8a4c.mp3\";","export default __webpack_public_path__ + \"static/media/harp.e67d31d9.mp3\";","export default __webpack_public_path__ + \"static/media/trombone.112cbc7a.mp3\";","import React from \"react\";\n\nimport assignRose from \"../sounds/rose3.wav\";\nimport badAction from \"../sounds/bad_action_sfx.wav\";\nimport newRound from \"../sounds/curtains.mp3\";\nimport selectAnswer from \"../sounds/louder_tap.mp3\";\nimport tap from \"../sounds/louder_tap.mp3\";\nimport crickets from \"../sounds/crickets.mp3\";\nimport harp from \"../sounds/harp.mp3\";\nimport trombone from \"../sounds/trombone.mp3\";\n\n\nclass SoundEffectController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playSound = this.playSound.bind(this);\n    this.playRoseSound = this.playRoseSound.bind(this);\n    this.playBadActionSound = this.playBadActionSound.bind(this);\n    this.playNewRoundSound = this.playNewRoundSound.bind(this);\n    this.playSelectAnswer = this.playSelectAnswer.bind(this);\n    this.playCricketsSound = this.playCricketsSound.bind(this);\n    this.playHarpSound = this.playHarpSound.bind(this);\n    this.playTromboneSound = this.playTromboneSound.bind(this);\n    this.playTap = this.playTap.bind(this);\n    this.props.setPlayRoseSound(this.playRoseSound);\n    this.props.setPlayBadActionSound(this.playBadActionSound);\n    this.props.setPlayTap(this.playTap);\n    this.props.setPlayCricketsSound(this.playCricketsSound);\n    this.props.setPlayHarpSound(this.playHarpSound);\n    this.props.setPlayTromboneSound(this.playTromboneSound);\n    this.props.setPlaySelectAnswer(this.playSelectAnswer);\n    this.props.setPlayNewRoundSound(this.playNewRoundSound);\n    this.volume = props.volume/100 + 0.15;\n    this.finalRat = null;\n    this.currentRatIdx = -1;\n    this.musicStarted = false;\n  }\n\n  shouldComponentUpdate(props) {\n    if(props.volume === 0){\n      this.volume = 0;\n      this.setVolume(this.volume);\n      return false;\n    }\n\n    let newvolume = props.volume / 100 + 0.15;\n    newvolume = newvolume > 1 ? 1 : newvolume;\n\n    if(newvolume !== this.volume){\n      this.volume = newvolume;\n      this.setVolume(this.volume);\n    }\n\n    return false;\n  }\n\n  playCricketsSound(){\n    this.playSound(crickets);\n  }\n\n  playTromboneSound(){\n    this.playSound(trombone);\n  }\n\n  playHarpSound(){\n    this.playSound(harp);\n  }\n\n  playRoseSound(){\n    this.playSound(assignRose);\n  }\n\n  playBadActionSound(){\n    this.playSound(badAction);\n  }\n\n  playNewRoundSound(){\n    this.playSound(newRound);\n  }\n\n  playSelectAnswer(){\n    this.playSound(selectAnswer);\n  }\n\n  playTap(){\n    this.playSound(tap);\n  }\n\n  setVolume(vol) {\n    \n    if (this.rap && this.rap.volume !== vol) {\n      console.log(\"changed sfx volume\", vol);\n      this.rap.volume = vol;\n    }\n  }\n\n  playSound(url) {\n    if ( this.rap ) {\n      this.rap.src = url;\n      this.rap.volume = this.volume;\n      this.rap.addEventListener('canplaythrough', () => {\n        var playPromise = this.rap.play();\n        if (playPromise !== undefined) {\n          playPromise.then((_) => {}).catch((e)=>{console.log(\"error caught\", e)});\n        }\n      })  \n    }\n  }\n\n  render() {\n    return (\n      <audio\n        src={this.url}\n        ref={(element) => {\n          this.rap = element;\n        }}\n        volume={this.volume}\n      />\n    );\n  }\n}\n\nexport default SoundEffectController;\n","export default __webpack_public_path__ + \"static/media/volume_0.f85c5915.png\";","import React from \"react\";\nimport soundLogoMute from \"../img/icons/volume_mute.png\";\nimport soundLogo0 from \"../img/icons/volume_0.png\";\nimport soundLogo1 from \"../img/icons/volume_1.png\";\nimport soundLogo2 from \"../img/icons/volume_2.png\";\nimport soundLogo3 from \"../img/icons/volume_3.png\";\n\nclass GameOptions extends React.Component {\n\n  render() {\n    const prog = this.props.volume;\n    let soundurl;\n    if (prog === 0) {\n      soundurl = soundLogoMute;\n    } else if (prog < 25) {\n      soundurl = soundLogo0;\n    } else if (prog < 50) {\n      soundurl = soundLogo1;\n    } else if (prog < 75) {\n      soundurl = soundLogo2;\n    } else {\n      soundurl = soundLogo3;\n    }\n\n    const toggleSound = () => {\n      if (this.props.volume === 0) {\n        this.props.changeVolume(25);\n      } else {\n        this.props.changeVolume(0);\n      }\n    };\n\n    return (\n      <div id=\"game-options\">\n        <img\n          src={soundurl}\n          alt=\"Sound icon\"\n          className=\"sound-icon\"\n          onClick={toggleSound}\n        />\n        <div className=\"sound-slider\">\n          <input\n            min=\"0\"\n            max=\"100\"\n            type=\"range\"\n            value={this.props.volume}\n            onChange={(evt) =>\n              this.props.changeVolume(parseInt(evt.target.value))\n            }\n          />\n          <div\n            className=\"behind-slider\"\n            style={{\n              backgroundImage: `linear-gradient(to right, #fffec6, #fffec6 ${prog}%, #977c40 ${prog}%, #977c40 100%)`,\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GameOptions;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAA55JREFUaEPVmj+OU0EMxpNASZeeiiMgUVHRbEnFAfYOVIhyK+6wB6CipKFCQkLsEajo09Ev6yjzmDex/X32zASxUpp982z//NnzL9luJvzdP3t6HzW7/flrG30nMn4XGfw/jx2axYySWvJmqNsFOgoMVcoI8BTopQDrBPTChkFDkJ9fmGLd/fi2ef7+ERLz7HkWmAYdBWiSXX2noTOwFCgN6ShIU5DAUdjHKAAa8sHQ9c0T09ztu9/IVei5xBWBhYqyoNcvX4UCNcFJRYszFtYFpSBP5eqpyWTgCB6EjMCaoBAy0I9sEm6/ftFzIr5AEpCyOdAApBa5Bu5C1kYcYA9WBXXV7IRswQs0DSoGErBnoFHIITOtV5ZeYpX3LFVXoFFISS7bfzJWnWkdyDKTR2doDRauo8dSG1SudVKGrKvGJKWtsYuiGTXRsoHUNvtSKqVZl93EECWMD94dakpw5YOS0j5vwVDS2vdb4Y6KZtVcZszA9g7Osk2rtICRfq171Qd11EQZhj0YmGkpWMNegcWlG62503gJDiVDNZ1tFfDeNNACocIG97R0vzqwO7inJRXd7/eb8rF2P8iUdwKCrWAYFz752IoGSkgA6z8NeFEWqMmWOzuuxDW1dNsEeMEx59msqgI7FVQc1LDsxp1Vix13EdAW1upTVi12XOsnpWgkk8Uhq6Y7W6PZzHkeAtXWxrYPO2LRTzc9Bqt3KVBr8WchP3z6qIcbmNktXra6IKhliIXsEcTynelTCNoGam0KLCBLTVlO1Lsj4oDAqljHZIMqC/slVIxWAKvuDl0T1o4Ph0MoDrM3Q1bGDIaly2ZsTDjzrPigSvmyqnpqMtu9FLJzJoWKyh1qVFUP8u3rNymG7EZidfCO9Kk4tFSV/7OKd9GeXl4JAE5FWFExClStAdHNHkpEZulgksbd6yqWUMCMc9QS6PniA9wXybhFUVi+RK96ajLgs9QU3zFFBfZhf2ruaK4cHNnX3vx9TqvVmDx7j1BTTMS+ZCpOK9jFMbrwIjfw9F1x8Bu1+NeGFewq2YF7WqaM3TGJL4XVWRf262km7g44YyABqZZu7XvIVShZspAZtYb0ofMLUfirFAkgDdwDSYDVyUFVSM26YiQNC6VqBgQBj2VJ/NaXAi3GpsEm4FjAkkaqdFtRpgEH1GdUXJV2wPZq6L+CjQJ2KTp8ZiaynQUcBloMzVC4F25I6Voi9AKPhJsKqiWAgZ8FWOL5A1aWn0lX+mM5AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAAtZJREFUaEPtmj1SAzEMhQM1XUquQRpuQss1qLkGLTehCdegTEcPY2bEOIp+nmR5s2TITJqsbel7T/7J7m42/5/LUuBqBs7+9fYLGXf38DElvhS7LBAK5wkwC34YtApQEqASOg1qAd7t7j3jNu/7N7cNNagAToFqkAigRefBjwCHQGcBSvAadBYWBpUgRx1EarcKGAI9F2QvhAQccdcFXQMkAY/AmqBrghyFvUbmCbVZYk56+WRzUB3lbmYDeIlnr/My9uarCLp2SK2MLVi3dNfmZF8BkdxOQGeeXbNlivazcncdRYOcqx13VYM1QSOlcS5QNO7RYhRdhB6fb37ivDx9QvGoPTVG+yGDe6uwCuq5yZPmyUgQUp9ZsHwFnjZHG5QnRhMHaYM4ytvw6pwGSoF7kOYeffvEqmCtKiwD3W63G/pydatAMs5SnxLQBth/JGBvIZohRl++JaCa0lwAD3bEMe+Pxy/orBORBztjrkqCiY56W0tUeQu2cnuR8iIDU6WbmU8cNipWpL1kVAhU2huzAJpYGRERESBQbfOPQmrtZ5dvE0IE7c+NmsJRSET1yLkZHe9kH/VuRVAH7VAQDcyPf9KJKTOm1gcq3R5yNPisSvDyCoEeDgdvvNVed0GXWCiWUEcF1Z55/AVXpdyPQLUFKepqE6P/LuGYFoOYzNKNukpwPKj2+wwBtJxPQDOuoiBouxkCuIuR5aqVOLIvRqeEJ4B1g0wE5a7SAEhiHBAB9gAqrruO8iAarAfE+yGiRQBDtzv5wNZ93ug93UjS0bYeZBsv/MS7+k95FIq3R5+Cu6Bt4DU++W55oZCQo6Tg2mAjkCFQzdn2+5LlnH0dByrdfl4s+VIVMh9bG+S/dBjUKmW6Vumw9docAkg5pUGtUu6dyEJXvxc4BIq4y8tPA/fAaJyIi33sElBkDo/ul1nAktL1kh99zDEKN9VRCx4Br4TzjLjI69+ThGpE2iw0CgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAAvRJREFUaEPtmjFSAzEMRReGki4l1yANN6HlGtRcg5ab0IRrUKajh3FhRlEk63/b2oQMmUmTaG29/yXvrneX5f9zWQpcZeDs3u6+kXG3j58p81tzT5sIhYsEyIIfBp0FaAkwE7obtAV4v32IjFs+du9hTA2YAdwF6kEigC26CH4EmALNArTgPeheWBjUghx1EKndWcAQ6KkgpRAWMONuCHoOkBV4BLYJek6Qo7A3SJ/UmNGefHq5PZru9fmLSWEpOUSrM3VlpN0chSyTW6A1KRZYw0b9apZuBmQE2gPMwIagM5z0atNzmHFXwrZcPQLNcrPViCPAqKvX1EqQFFwctFxs9bS3QHpXb03QzLK1NOuFRfQ/KF22bKviaE9ph7zj0LjWlZPuVxc0cjMqK9SdLFgNmtajRYhIjNYpRwuAjCUd1tWZBlonlQnWRQeFQOOQK7dpoJvNZqlfvTiwbsjj0f6PFqQpoAVQfizgaIFBxUDjSj6yfKeAempqASJYbxzGVW8R/QXN2s2LYCUc41ZUqvp/09Ho1MJO0oJl3GLnleXbVbo9ymvYnqStldwaxzKKArXOjb0AnlgjF/gt8SBQ7+TPQnrx2eVbBDBB5a2PpzALiZZqFnR4ratBRwH3+/0BcxaYviGHSrdmNgpZxpkxBlodMo4C1W70THiqY0LQrNJaG9gF9fZO/4KrVu4HoN4uGutqEUN+13ZPzleZmqXLulrhNJj3e4YAXs5HoD2uoiBoXIYA4WLUcrWVuLeFKSHYlogEaO3xmqDa1ToAkpgGRIAjgBn/h47qSTzYCEgfh4jGAEY79tTzUXn7w+7pMkmzsRFkGY9+4j37ppyF0vHoU/AQtAx8jk++S14oJORoVfDcYBlICtRztvy+Zjn3vo4Dla7sizVfqkL6scREj/VpRxHg2Q63XsxAAGvOtKMobI3rLevozRMGcshRFjgCj8Dq8SzgFEetc2DWjn8vYBpor9OWaKNwcsyhHmWvahC3Z8Kx+V1E/A/Ns6VpL6rE4gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAA0VJREFUaEPtmjGOFEEMRWcRIdmEXINNuAkp1yDmGqTchGS5BuFk5LAljVcet+3/XeVaLStGGq20Xe3y8//lrunu0+n/53VV4G4HzsP393+YuPeffm2Z35u7ZaJHsBGbgkMF2AW/DMqqhwCD43eP4JOn3p42BYoU/HD/ESb38+EHHCMDOlSeBXVtygBmdAh+BbgEGtl0FdCDj6BnYSnQyKoC+PnrO2jDb19+wzE7gVnQg1W1igyohaiCewpX1IWgnl09q87AangGfAU2BWUhkScrRUDAs7Al0K6mg8CrsIyFQ1CrZhekVT+C7oZ1QSuQmTooWQY6i2FtnCkLQZGSyIbVhuPFY2Ez0De2qjv3rgNCvlEDq7pAx8lyPyhase1qt82grLKsqiMnT9mDojp5ZFsEOpKTrze2sr4rSwT+Hq2qKZNX7FZdg6yyqDHdWFeDIjVRhRE8CzDUYcdqWGvf1LrImtnxatNBhavmYt25DVQS61iH1h1RzMyFbaDn8/kkX2YjUFUILQUUrwV0AOqPB8xu9VgLM+O0fVtAo2raArCwK5uJyL5PoLt2RCyshmPU8rpxZl9XUXRpQevBHmdg2TXIjpMcRMAp67IVt+u2UqCZOSS+J1QJ1Ls2WrVYmOoOiY0bjaNAo4t/FbI6noFjlXdB9VYqCrQjafb6W12nI+4TKHPfZZwQbQqY6jMgDASrop6Psq6c0KFiRwwNwBTmRlFGkcvlwgx7kWOgomzFXiSdSioEjR7y/AuqernfgEYNqarqKIb+dqpdbUTClFq3qqrAWbDo/6sF8ASIcj6AzqjKgjDjqoqxxYLNKFM1Szy7+yfJoSWBjlvI7AaZC2pVlQDMxBaQAZaEd6k54r9lpdcqzGzIB7A+jymal1t0Xul2pw2c3eeduafLFHUmLoIc85afeHf/KGfgszHsg2EIOibpevK9CoWazzgeXTVg170GPxQEvRPUDbUCSVlXT/Cc7xlFhZp9/4hVVOZ1rf5c6s5ClhUV2o53AVlrZ0VkbxZMg14b1PgDX12d7dLIJRXIJVBm7XqqReAITGJVAdM1x9rK2WBQKk/GX3p3l7qOVhO7ruEO6CU4nfcW0Kgw5POdNriqQK9i/F9ScciaJnkOvwAAAABJRU5ErkJggg==\"","import React from \"react\";\n\nclass CharacterImg extends React.Component {\n  render() {\n    return (\n      <div\n        onClick={this.props.onClick}\n        className={`player-img ${this.props.selected && \"selected-img\"}`}\n      >\n        {this.props.selected && (\n          <img\n            alt=\"\"\n            src=\"/ratchelor/img/Frames/hearts7.PNG\"\n            className=\"selected-bg\"\n          />\n        )}\n        <img src={this.props.src} alt=\"one of the selectable characters\" />\n      </div>\n    );\n  }\n}\n\nclass CharacterSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratSelected: false,\n      transform: 1,\n    };\n  }\n\n  componentDidMount() {\n    // this.interval = window.setInterval(() => {\n    //   let transform = -1 * this.state.transform\n    //   this.setState({transform})\n    //   console.log(transform)\n    // }, 1000);\n  }\n\n  render() {\n    let buttonArea;\n    if (this.state.ratSelected) {\n      buttonArea = (\n        <div id=\"button-container\">\n          <button\n            onClick={( )=>{\n              this.props.onClick(); \n              //this.props.playSelectAnswer();\n            }\n          }\n            style={{ display: this.props.playerIdx >= 0 ? \"block\" : \"none\" }}\n          >\n            Onwards!\n          </button>\n        </div>\n      );\n    } else {\n      buttonArea = (\n        <div id=\"ratchelor-intro-question\">Which rat do you want to be?</div>\n      );\n    }\n    return (\n      <div id=\"custom-character\" className=\"screen\">\n        <div id=\"ratchelor-intro-container\">\n          <img\n            id=\"hearts-header\"\n            alt=\"\"\n            src=\"/ratchelor/img/Player/playerselecthearts.png\"\n          ></img>\n          <div id=\"ratchelor-intro-title\">You are The Ratchelor,</div>\n          <div id=\"ratchelor-intro\">\n            A single rat looking for love. You will meet many rats and\n            choose who to keep, round after round, until you find true love.\n          </div>\n        </div>\n        <div id=\"custom-character-row\">\n          {Array(4)\n            .fill(\"\")\n            .map((_, idx) => (\n              <CharacterImg\n                selected={idx + 1 === this.props.playerIdx}\n                onClick={() => {\n                  this.props.changePlayerIdx(idx + 1);\n                  this.setState({ ratSelected: true });\n                  this.props.playTap();\n                }}\n                key={`char${idx}`}\n                src={`/ratchelor/img/Player/${idx + 1}_intro.png`}\n              />\n            ))}\n        </div>\n        {buttonArea}\n      </div>\n    );\n  }\n}\n\nexport default CharacterSelect;\n","import React from \"react\";\n\nconst FADE_DELAY = 3200;\n\nclass Proposal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      opacity: 1.0,\n    };\n  }\n\n  componentDidMount() {\n    window.setTimeout(() => {\n      this.opacityInterval = window.setInterval(() => {\n        if (this.state.opacity <= 0) {\n          this.props.advanceState();\n          window.clearInterval(this.opacityInterval);\n        } else {\n          let opacity = this.state.opacity - 0.01;\n          this.setState({ opacity });\n        }\n      }, 10);\n    }, FADE_DELAY);\n  }\n\n  render() {\n    return (\n      <div\n        id=\"proposalScreen\"\n        style={{ opacity: this.state.opacity }}\n        className=\"screen\"\n      >\n        <img\n          id=\"finalRat\"\n          className={`propose-${this.props.finalRat.size}`}\n          src={`/ratchelor/img/Characters/${this.props.finalRat.filename}.png`}\n        ></img>\n        <img id=\"proposingRat\" src={this.props.playerRatUrl}></img>\n      </div>\n    );\n  }\n}\n\nexport default Proposal;\n","export default __webpack_public_path__ + \"static/media/background2.55d84b30.png\";","export default __webpack_public_path__ + \"static/media/curtains.24cf2e49.png\";","export default __webpack_public_path__ + \"static/media/Intro2.a84ab9b2.png\";","export default __webpack_public_path__ + \"static/media/couchslower.b907630e.gif\";","import \"./App.css\";\nimport React from \"react\";\nimport IntroScreen from \"./components/IntroScreen\";\nimport RatSelect from \"./components/RatSelect\";\nimport TalkingToRats from \"./components/TalkingToRats\";\nimport RoseCeremony from \"./components/RoseCeremony\";\nimport AnimeEnding from \"./components/AnimeEnding\";\nimport MusicManager from \"./components/MusicManager\";\nimport SoundEffectController from \"./components/SoundEffectController\";\nimport GameOptions from \"./components/GameOptions\";\nimport CharacterSelect from \"./components/CharacterSelect\";\nimport Proposal from \"./components/Proposal\";\n\nimport ratsJson from \"./rats.json\";\nimport firebase from \"firebase/app\";\nimport \"firebase/analytics\";\nimport \"firebase/database\";\nimport allPublicImagesForPreload from \"./allPublicImages.json\";\n\n/* background img files for preload -- sry for the tech debt but its 1am */\nimport bg0 from \"./img/Backgrounds/background2.png\";\nimport bg1 from \"./img/Backgrounds/curtains.png\";\nimport bg2 from \"./img/Backgrounds/Intro2.png\";\nimport bg3 from \"./img/Backgrounds/couchslower.gif\";\nimport bg4 from \"./img/Backgrounds/garden2.png\";\nimport bg5 from \"./img/RoseCeremony/Background-old.png\";\nimport bg6 from \"./img/Backgrounds/couchslower.gif\";\n\n\n/* sound files for preload -- sry for the tech debt but its 1am */\nimport s1 from \"./sounds/bad_action_sfx.wav\";\nimport s2 from \"./sounds/curtains.mp3\";\nimport s3 from \"./sounds/louder_tap.mp3\";\nimport s5 from \"./sounds/crickets.mp3\";\nimport s6 from \"./sounds/harp.mp3\";\nimport s7 from \"./sounds/trombone.mp3\";\nimport s8 from \"./sounds/Cheerful.mp3\";\nimport s9 from \"./sounds/Funky.mp3\";\nimport s10 from \"./sounds/Intense.mp3\";\nimport s11 from \"./sounds/Intro_Screen.mp3\";\nimport s12 from \"./sounds/Paris.mp3\";\nimport s13 from \"./sounds/Pop.mp3\";\nimport s14 from \"./sounds/Romantic_Happy.mp3\";\nimport s15 from \"./sounds/Romantic_Sad.mp3\";\nimport s16 from \"./sounds/Rose_Ceremony.mp3\";\nimport s17 from \"./sounds/Talking_To_Rat_1.mp3\";\nimport s18 from \"./sounds/Talking_To_Rat_2.mp3\";\nimport s19 from \"./sounds/Talking_To_Rat_3.mp3\";\nimport s20 from \"./sounds/Talking_To_Rat_4.mp3\";\n\nconst backgroundSrc = [bg0, bg1, bg2, bg3, bg4, bg5, bg6];\nconst soundsToPreload = [s2, s3, s5, s6, s7, s11, s1];\nconst soundsToAsyncLoad = [s17, s18, s19, s20, s16, s8, s9, s10, s12, s13, s14, s15];\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDimK5PvHd3hBT8Xoyup_ogKaSPT3Chwzc\",\n  authDomain: \"ratchelor.firebaseapp.com\",\n  databaseURL: \"https://ratchelor-default-rtdb.firebaseio.com\",\n  projectId: \"ratchelor\",\n  storageBucket: \"ratchelor.appspot.com\",\n  messagingSenderId: \"993096202246\",\n  appId: \"1:993096202246:web:bf0ebeedc4c347640aeb87\",\n  measurementId: \"G-LV5NLFXL03\"\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();\n\n// Game Stages\nconst INTRO = 0;\nconst PLAYER_SELECT = 1;\nconst RAT_SELECT = 2;\nconst TALKING_TO_RATS = 3;\nconst ROSE_CEREMONY = 4;\nconst ANIME_ENDING = 5;\nconst SPECIAL_ENDING = 6;\nconst PROPOSAL = 7;\n\nconst INTERLUDE_OFFSET = 900;\nconst ANIM_START_INCR = 30;\n\nclass RatchelorGame extends React.Component {\n  constructor() {\n    super();\n    // Num rats the person should select at the very beginning\n    this.numRatsInGame = 7;\n    // How many rounds there are\n    this.numRounds = 5;\n    this.setProposedInDatabase = false;\n    // How many roses get given out each round\n    this.rosesPerRound = [5, 4, 3, 2, 1];\n\n    this.allPublicImagesForPreload = allPublicImagesForPreload;\n    this.backgroundSrc = backgroundSrc;\n    this.soundsToPreload = soundsToPreload;\n    this.soundsToAsyncLoad = soundsToAsyncLoad;\n\n    this.state = {\n      // What phase of the game we're in\n      gameStage: INTRO,\n      // What round of the rose-talking loop we're on\n      roundNum: 0,\n      // String list of all rat names currently still in the game\n      activeRatNames: [],\n      // Text for interlude screens that fall down\n      interludeText: \"Round 1\",\n      //the rat that we r currently talking to\n      currentRatIdx: 0,\n      interludeBottom: INTERLUDE_OFFSET,\n      incr: ANIM_START_INCR,\n      volume: 15,\n      playerIdx: -1,\n      isPreloading: true,\n      percentLoaded: 0.0\n    };\n    this.finalRat = ratsJson[3];\n    this.changeCurrentRatIdx = this.changeCurrentRatIdx.bind(this);\n    this.changeVolume = this.changeVolume.bind(this);\n    this.changePlayerIdx = this.changePlayerIdx.bind(this);\n    this.setCallPlaySound = this.setCallPlaySound.bind(this);\n    this.setPlayRoseSound = this.setPlayRoseSound.bind(this);\n    this.setPlayCricketsSound = this.setPlayCricketsSound.bind(this);\n    this.setPlayHarpSound = this.setPlayHarpSound.bind(this);\n    this.setPlayTromboneSound = this.setPlayTromboneSound.bind(this);\n    this.setPlayBadActionSound = this.setPlayBadActionSound.bind(this);\n    this.setPlayNewRoundSound = this.setPlayNewRoundSound.bind(this);\n    this.setPlaySelectAnswer = this.setPlaySelectAnswer.bind(this);\n    this.setPlayTap = this.setPlayTap.bind(this);\n    this.donePreloading = this.donePreloading.bind(this);\n\n    this.publicImgsLoaded= false;\n    this.srcImgsLoaded= false;\n    this.soundsLoaded= false;\n  }\n\n  donePreloading(){\n    if(this.preloadTimeout){\n      window.clearTimeout(this.preloadTimeout);\n    }\n    this.setState({isPreloading: false});\n    this.asyncLoadSounds();\n  }\n\n  preload() {\n    //TODO - make restart button work\n    let loadIncr = 1 / (this.allPublicImagesForPreload.length + this.backgroundSrc.length + this.soundsToPreload.length);\n    // 30s total timeout\n    const timeoutTime = 30000;\n\n    // PUBLIC IMAGES\n    this.allPublicImagesForPreload.forEach(fullFilename => {\n      var img = new Image();\n      let filename = \"\";\n      if (fullFilename.indexOf(\"public\") !== -1) {\n        filename = fullFilename.slice(7);\n        filename = \"/ratchelor/\" + filename;\n      }\n      // Load image\n      img.src = filename;\n      img.onload = () => {\n        let fileIdx = this.allPublicImagesForPreload.indexOf(fullFilename);\n        if (fileIdx !== -1) {\n          this.allPublicImagesForPreload.splice(fileIdx, 1);\n          this.setState({percentLoaded: this.state.percentLoaded + loadIncr});\n        }\n        if (this.allPublicImagesForPreload.length === 0 && !this.state.publicImgsLoaded) {\n          console.log(\"all images loaded\");\n          this.publicImgsLoaded = true;\n          if(this.srcImgsLoaded && this.soundsLoaded && this.publicImgsLoaded){\n            this.donePreloading();\n          }\n        }\n      }\n    });\n\n    // PRELOADED SOUNDS\n    this.soundsToPreload.forEach(filename => {\n      // Load sound\n      var audio = new Audio(filename);\n      \n      audio.addEventListener(\"canplaythrough\", () => {\n        let fileIdx = this.soundsToPreload.indexOf(filename);\n        if (fileIdx !== -1) {\n          this.soundsToPreload.splice(fileIdx, 1);\n          this.setState({percentLoaded: this.state.percentLoaded + loadIncr});\n        }\n        if (this.soundsToPreload.length === 0) {\n          console.log(\"all sounds loaded\");\n          this.soundsLoaded = true;\n          if(this.srcImgsLoaded && this.soundsLoaded && this.publicImgsLoaded){\n            this.donePreloading();\n          }\n        }\n      });\n      audio.load();\n    })\n\n    // SRC BACKGROUNDS\n    backgroundSrc.forEach(filename => {\n      var img = new Image();\n      img.src = filename;\n\n      img.onload = () => {\n        let fileIdx = this.backgroundSrc.indexOf(filename);\n        if (fileIdx !== -1) {\n          this.backgroundSrc.splice(fileIdx, 1);\n          this.setState({percentLoaded: this.state.percentLoaded + loadIncr});\n        }\n        if (this.backgroundSrc.length === 0) {\n          console.log(\"all src images loaded\");\n          this.srcImgsLoaded = true;\n          if(this.srcImgsLoaded && this.soundsLoaded && this.publicImgsLoaded){\n            this.donePreloading();\n          }\n        }\n      }\n    })\n\n    this.preloadTimeout = window.setTimeout(() => {\n      console.log(\"preloading timed out! continuing..\");\n      this.setState({isPreloading: false});\n    }, timeoutTime);\n\n  }\n\n  asyncLoadSounds(){\n    this.soundsToAsyncLoad.forEach(fullFilename => {\n      new Audio(fullFilename);\n    })\n  }\n\n  beginInterludeAndAdvanceState(text, delay, newGameStage) {\n    //console.log(\"beginning interval\")\n    this.setState({ interludeText: text });\n    this.startInterludeInterval = window.setInterval(() => {\n      let interludeBottom = this.state.interludeBottom - this.state.incr;\n      if (interludeBottom <= 0) {\n        interludeBottom = 0;\n        if (newGameStage) {\n          this.setState({ gameStage: newGameStage });\n        }\n        window.clearInterval(this.startInterludeInterval);\n        window.setTimeout(() => {\n          this.endInterlude();\n        }, delay);\n      } else {\n        this.setState({ incr: this.state.incr * 0.97 });\n      }\n      this.setState({ interludeBottom });\n    }, 5);\n  }\n\n  endInterlude() {\n    this.endInterludeInterval = window.setInterval(() => {\n      let interludeBottom = this.state.interludeBottom + this.state.incr;\n      if (interludeBottom >= INTERLUDE_OFFSET) {\n        interludeBottom = INTERLUDE_OFFSET;\n        window.clearInterval(this.endInterludeInterval);\n        this.setState({ incr: ANIM_START_INCR });\n      } else {\n        this.setState({ incr: this.state.incr * 1.03 });\n      }\n      this.setState({ interludeBottom });\n    }, 5);\n  }\n\n  setCallPlaySound(f) {\n    this.callPlaySound = f;\n  }\n\n  setPlayRoseSound(f){\n    this.playRoseSound = f;\n  }\n\n  setPlayCricketsSound(f){\n    this.playCricketsSound = f;\n  }\n\n  setPlayTromboneSound(f){\n    this.playTromboneSound = f;\n  }\n\n  setPlayHarpSound(f){\n    this.playHarpSound = f;\n  }\n\n  setPlayBadActionSound(f){\n    this.playBadActionSound = f;\n  }\n\n  setPlayNewRoundSound(f){\n    this.playNewRoundSound = f;\n  }\n\n  setPlaySelectAnswer(f){\n    this.playSelectAnswer = f;\n  }\n\n  setPlayTap(f){\n    this.playTap = f;\n  }\n\n  // Reset everything to restart the game\n  restartGame() {\n    console.log(\"restarting\");\n    this.setProposedInDatabase = false;\n    this.setState(\n      {\n        gameStage: INTRO,\n        roundNum: 0,\n        activeRatNames: [],\n        playerIdx: -1,\n      },\n      () => {\n        console.log(\"done!\");\n      }\n    );\n  }\n\n  changeCurrentRatIdx(idx) {\n    this.setState({\n      currentRatIdx: idx,\n    });\n  }\n\n  changePlayerIdx(idx) {\n    this.setState({\n      playerIdx: idx,\n    });\n  }\n\n  changeVolume(vol) {\n    this.setState({\n      volume: vol,\n    });\n  }\n\n  // Takes a string rat name and returns the Json object with additional details\n  getRatByName(name) {\n    for (let i = 0; i < ratsJson.length; i++) {\n      if (ratsJson[i].name === name) {\n        return ratsJson[i];\n      }\n    }\n  }\n\n  incrementTotalRatCount(ratName) {\n    this.database\n      .ref(\"/\")\n      .child(ratName)\n      .set(firebase.database.ServerValue.increment(1));\n  }\n\n  \n\n  componentDidMount() {\n    this.preload();\n    this.interludeElement = document.getElementById(\"interlude\");\n    this.database = firebase.database();\n  }\n\n  render() {\n    let screen = \"\";\n    let isPreloading = this.state.isPreloading;\n\n    //console.log(isPreloading)\n    \n    if (this.state.gameStage === INTRO) {\n      // Intro screen: advances to next stage when complete\n      screen = (\n        <IntroScreen\n          playSound={() => {\n            if (this.callPlaySound) {\n              this.callPlaySound(this.state.gameStage + 1);\n            }\n            if(this.playNewRoundSound){\n              this.playNewRoundSound()\n            }\n          }}\n          isPreloading={isPreloading}\n          percentLoaded={this.state.percentLoaded}\n          onClick={() => {\n            this.beginInterludeAndAdvanceState(\n              \"meet yourself\",\n              900,\n              PLAYER_SELECT\n            );\n          }}\n        />\n      );\n    } else if (this.state.gameStage === PLAYER_SELECT) {\n      screen = (\n        <CharacterSelect\n          changePlayerIdx={this.changePlayerIdx}\n          playerIdx={this.state.playerIdx}\n          playSelectAnswer={this.playSelectAnswer}\n          playTap={this.playTap}\n          onClick={() => {\n            this.beginInterludeAndAdvanceState(\n              \"meet your suitors\",\n              900,\n              RAT_SELECT\n            );\n            if(this.playNewRoundSound){\n              this.playNewRoundSound()\n            }\n          }}\n        />\n      );\n    } else if (this.state.gameStage === RAT_SELECT) {\n      // Rat select screen:\n      //    modifies the currently active rat names\n      //    advances to the next stage when complete\n      screen = (\n        <RatSelect\n          rats={ratsJson}\n          numRatsInGame={this.numRatsInGame}\n          playTap={this.playTap}\n          playSelectAnswer={this.playSelectAnswer}\n          playBadActionSound={this.playBadActionSound}\n          advanceState={() => {\n            this.beginInterludeAndAdvanceState(\n              `chit chat`,\n              900,\n              TALKING_TO_RATS\n            );\n            if(this.playNewRoundSound){\n              this.playNewRoundSound()\n            }\n          }}\n          setActiveRats={(selectedRats) => {\n            this.setState({ activeRatNames: selectedRats });\n          }}\n        />\n      );\n    } else if (this.state.gameStage === TALKING_TO_RATS) {\n      // Talking to rats screen:\n      //    advances to the rose ceremony when done\n      screen = (\n        <TalkingToRats\n          activeRatNames={this.state.activeRatNames}\n          getRatByName={this.getRatByName}\n          round={this.state.roundNum}\n          startDelay={1000}\n          playSelectAnswer={this.playSelectAnswer}\n          playCricketsSound={this.playCricketsSound}\n          playTromboneSound={this.playTromboneSound}\n          playHarpSound={this.playHarpSound}\n          playerRatUrl={`/ratchelor/img/Player/${this.state.playerIdx}.png`}\n          goToRoseCeremony={() =>\n            {this.beginInterludeAndAdvanceState(\n              `who gets a rose?`,\n              900,\n              ROSE_CEREMONY\n            )\n            if(this.playNewRoundSound){\n              this.playNewRoundSound()\n            }\n          }\n            \n          }\n          changeCurrentRatIdx={this.changeCurrentRatIdx}\n        />\n      );\n    } else if (this.state.gameStage === ROSE_CEREMONY) {\n      // Rose ceremony screen:\n      //    either advances to the next talking round, or advances to the anime ending\n      //    modifies the currently active rat names\n      screen = (\n        <RoseCeremony\n          activeRatNames={this.state.activeRatNames}\n          getRatByName={this.getRatByName}\n          playRoseSound={this.playRoseSound}\n          playTap={this.playTap}\n          playSelectAnswer={this.playSelectAnswer}\n          playBadActionSound={this.playBadActionSound}\n          numRoses={this.rosesPerRound[this.state.roundNum]}\n          setActiveRats={(selectedRats) => {\n            this.setState({ activeRatNames: selectedRats });\n          }}\n          advanceState={() => {\n            // Update the current round number\n            const newRoundNum = this.state.roundNum + 1;\n            // If that was the last round, advance to Anime\n            if (newRoundNum === this.numRounds) {\n              this.setState({ gameStage: PROPOSAL });\n              // Else, keep talking to rats\n            } else {\n              this.beginInterludeAndAdvanceState(\n                `chit chat`,\n                900,\n                TALKING_TO_RATS\n              );\n              if(this.playNewRoundSound){\n                this.playNewRoundSound()\n              }\n              this.setState({ roundNum: newRoundNum });\n            }\n          }}\n        />\n      );\n    } else if (this.state.gameStage === PROPOSAL) {\n      this.finalRat = this.getRatByName(this.state.activeRatNames[0]);\n      if(!this.setProposedInDatabase){\n        this.setProposedInDatabase = true;\n        this.incrementTotalRatCount(this.state.activeRatNames[0]);\n      }\n      screen = (\n        <Proposal\n          finalRat={this.finalRat}\n          playerRatUrl={`/ratchelor/img/Player/${this.state.playerIdx}_proposal.PNG`}\n          advanceState={() => {\n            this.setState({ gameStage: ANIME_ENDING });\n          }}\n        />\n      );\n    } else if (this.state.gameStage === ANIME_ENDING) {\n      // Anime ending screen:\n      //    allows game to be restarted\n      screen = (\n        <AnimeEnding\n          winningRat={this.finalRat}\n          restartGame={() => {\n            this.restartGame();\n          }}\n        />\n      );\n    }\n    if (\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n        navigator.userAgent\n      )\n    ) {\n      let randoRat = ratsJson[Math.floor(Math.random() * ratsJson.length)];\n      let randoRatFilename = randoRat.filename;\n      return (\n        <div id=\"mobile-container\">\n          <div id=\"mobile-message\">{`To experience The Ratchelor, ${randoRat.name} wants you to access this website on a desktop computer!`}</div>\n          <img\n            id=\"mobile-img\"\n            alt=\"a rat who loves you\"\n            src={`/ratchelor/img/Characters/${randoRatFilename}.png`}\n          ></img>\n        </div>\n      );\n    }\n    return (\n      <div id={`game-container`} className={`preloading-${isPreloading}`}>\n        <div id=\"game\">\n          <img id=\"frame\" src=\"/ratchelor/img/frameSmaller.png\" alt=\"\"></img>\n          <div id=\"interludeContainer\" >\n            <div id=\"interlude\" style={{ bottom: this.state.interludeBottom }}>\n              <div id=\"interludeText\">{this.state.interludeText}</div>\n            </div>\n            {screen}\n          </div>\n          <MusicManager\n            setCallPlaySound={this.setCallPlaySound}\n            phase={this.state.gameStage}\n            finalRat={this.finalRat}\n            currentRatIdx={this.state.currentRatIdx}\n            volume={this.state.volume}\n          />\n          <SoundEffectController\n           volume={this.state.volume}\n          setPlayRoseSound={this.setPlayRoseSound}\n          setPlayCricketsSound={this.setPlayCricketsSound}\n          setPlayBadActionSound={this.setPlayBadActionSound}\n          setPlayNewRoundSound={this.setPlayNewRoundSound}\n          setPlaySelectAnswer={this.setPlaySelectAnswer}\n          setPlayHarpSound={this.setPlayHarpSound}\n          setPlayTromboneSound={this.setPlayTromboneSound}\n          setPlayTap={this.setPlayTap}\n          />\n        </div>\n        <GameOptions\n          volume={this.state.volume}\n          changeVolume={this.changeVolume}\n        />\n      </div>\n    );\n  }\n}\n\nexport {\n  INTRO,\n  PLAYER_SELECT,\n  RAT_SELECT,\n  TALKING_TO_RATS,\n  ROSE_CEREMONY,\n  ANIME_ENDING,\n  SPECIAL_ENDING,\n  PROPOSAL,\n};\nexport default RatchelorGame;\n","export default __webpack_public_path__ + \"static/media/garden2.340442de.png\";","export default __webpack_public_path__ + \"static/media/Background-old.01747d96.png\";","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}